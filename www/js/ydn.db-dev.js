(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var l,q=this;
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function r(a){return void 0!==a}function t(a){return"array"==aa(a)}function v(a){var b=aa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function ba(a){return"boolean"==typeof a}function z(a){return"number"==typeof a}function A(a){return"function"==aa(a)}function B(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ca="closure_uid_"+(1E9*Math.random()>>>0),da=0;
function ea(a,b,c){return a.call.apply(a.bind,arguments)}function fa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ga(a,b,c){ga=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa;return ga.apply(null,arguments)}
function ha(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ia=Date.now||function(){return+new Date};function ja(a,b){var c=a.split("."),d=q;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]?d=d[e]:d=d[e]={}:d[e]=b}
function C(a,b){function c(){}c.prototype=b.prototype;a.s=b.prototype;a.prototype=new c;a.ic=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function ka(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function la(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function ma(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ma);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}C(ma,Error);ma.prototype.name="CustomError";function na(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a}var oa={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},pa={"'":"\\'"};
function qa(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=b,g=c+1,h;if(!(h=oa[d])){if(!(31<e&&127>e))if(d in pa)d=pa[d];else if(d in oa)d=pa[d]=oa[d];else{e=d;h=d.charCodeAt(0);if(31<h&&127>h)e=d;else{if(256>h){if(e="\\x",16>h||256<h)e+="0"}else e="\\u",4096>h&&(e+="0");e+=h.toString(16).toUpperCase()}d=pa[d]=e}h=d}f[g]=h}b.push('"');return b.join("")}function ra(a,b){return a<b?-1:a>b?1:0};function sa(a){A(q.setImmediate)?q.setImmediate(a):(ta||(ta=va()),ta(a))}var ta;
function va(){if(q.lb&&q.lb.resolve){var a=q.lb.resolve();return function(b){a.then(b)}}var b=q.MessageChannel;"undefined"===typeof b&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(b=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=ga(function(a){if(a.origin==
d||a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof b){var c=new b,d={},e=d;c.port1.onmessage=function(){d=d.next;var a=d.pb;d.pb=null;a()};return function(a){e.next={pb:a};e=e.next;c.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};function wa(a){sa(function(){throw a;})}function xa(a,b){ya||(sa(za),ya=!0);Aa.push(new Ba(a,b))}var ya=!1,Aa=[];function za(){for(;Aa.length;){var a=Aa;Aa=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.a.call(c.b)}catch(d){wa(d)}}}ya=!1}function Ba(a,b){this.a=a;this.b=b};function Ca(a,b){this.b=Da;this.f=void 0;this.a=this.c=null;this.d=this.e=!1;try{var c=this;a.call(b,function(a){Ea(c,Fa,a)},function(a){Ea(c,Ga,a)})}catch(d){Ea(this,Ga,d)}}var Da=0,Fa=2,Ga=3;Ca.prototype.then=function(a,b,c){return Ha(this,A(a)?a:null,A(b)?b:null,c)};ka(Ca);function Ia(a){a.b==Da&&xa(function(){var a=new Ja(void 0);Ka(this,a)},a)}
function Ka(a,b){if(a.b==Da)if(a.c){var c=a.c;if(c.a){for(var d=0,e=-1,f=0,g;g=c.a[f];f++)if(g=g.va)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.b==Da&&1==d?Ka(c,b):(d=c.a.splice(e,1)[0],Ga==Fa?d.Xa(b):(La(c),d.Ya(b))))}}else Ea(a,Ga,b)}function Ma(a,b){a.a&&a.a.length||a.b!=Fa&&a.b!=Ga||Na(a);a.a||(a.a=[]);a.a.push(b)}
function Ha(a,b,c,d){var e={va:null,Xa:null,Ya:null};e.va=new Ca(function(a,g){e.Xa=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.Ya=c?function(b){try{var e=c.call(d,b);!r(e)&&b instanceof Ja?g(b):a(e)}catch(m){g(m)}}:g});e.va.c=a;Ma(a,e);return e.va}Ca.prototype.g=function(a){this.b=Da;Ea(this,Fa,a)};Ca.prototype.i=function(a){this.b=Da;Ea(this,Ga,a)};
function Ea(a,b,c){if(a.b==Da){if(a==c)b=Ga,c=new TypeError("Promise cannot resolve to itself");else{if(la(c)){a.b=1;c.then(a.g,a.i,a);return}if(B(c))try{var d=c.then;if(A(d)){Oa(a,c,d);return}}catch(e){b=Ga,c=e}}a.f=c;a.b=b;Na(a);b!=Ga||c instanceof Ja||Pa(a,c)}}function Oa(a,b,c){function d(b){f||(f=!0,a.i(b))}function e(b){f||(f=!0,a.g(b))}a.b=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Na(a){a.e||(a.e=!0,xa(a.j,a))}
Ca.prototype.j=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=[];for(var b=0;b<a.length;b++){var c=a[b],d=this.f;this.b==Fa?c.Xa(d):(La(this),c.Ya(d))}}this.e=!1};function La(a){for(;a&&a.d;a=a.c)a.d=!1}function Pa(a,b){a.d=!0;xa(function(){a.d&&Qa.call(null,b)})}var Qa=wa;function Ja(a){ma.call(this,a)}C(Ja,ma);Ja.prototype.name="cancel";var Ra=Array.prototype,Sa=Ra.indexOf?function(a,b,c){return Ra.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(w(a))return w(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ta=Ra.forEach?function(a,b,c){Ra.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ua=Ra.map?function(a,b,c){return Ra.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=
w(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Va=Ra.some?function(a,b,c){return Ra.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},Wa=Ra.every?function(a,b,c){return Ra.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Xa(a,b){var c=Ya(a,b,void 0);return 0>c?null:w(a)?a.charAt(c):a[c]}
function Ya(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Za(a){if(!t(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function $a(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function ab(a,b,c,d){Ra.splice.apply(a,bb(arguments,1))}function bb(a,b,c){return 2>=arguments.length?Ra.slice.call(a,b):Ra.slice.call(a,b,c)}
function cb(a,b){if(!v(a)||!v(b)||a.length!=b.length)return!1;for(var c=a.length,d=db,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function eb(a,b){return a>b?1:a<b?-1:0}function db(a,b){return a===b}function fb(a,b){var c;c=gb||eb;for(var d=0,e=a.length,f;d<e;){var g=d+e>>1,h;h=c(b,a[g]);0<h?d=g+1:(e=g,f=!h)}c=f?d:~d;0>c&&ab(a,-(c+1),0,b)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function E(a,b){this.i=[];this.L=b||null;this.b=this.c=!1;this.e=void 0;this.W=this.w=this.j=!1;this.g=0;this.d=null;this.t=0}l=E.prototype;l.wa=function(a,b){this.j=!1;hb(this,a,b)};function hb(a,b,c){a.c=!0;a.e=c;a.b=!b;a.Sa()}function ib(a){if(a.c){if(!a.W)throw new jb;a.W=!1}}l.o=function(a){ib(this);hb(this,!0,a)};l.m=function(a){ib(this);hb(this,!1,a)};l.G=function(a,b){return kb(this,a,null,b)};l.mb=function(a,b){return kb(this,null,a,b)};l.ga=function(a,b){return kb(this,a,a,b)};
function kb(a,b,c,d){a.i.push([b,c,d]);a.c&&a.Sa();return a}l.then=function(a,b,c){var d,e,f=new Ca(function(a,b){d=a;e=b});kb(this,d,function(a){e(a)});return f.then(a,b,c)};ka(E);E.prototype.Fa=function(a){var b=new E;kb(this,b.o,b.m,b);a&&(b.d=this,this.t++);return b};function lb(a){return Va(a.i,function(a){return A(a[1])})}
E.prototype.Sa=function(){this.g&&this.c&&lb(this)&&(mb(this.g),this.g=0);this.d&&(this.d.t--,delete this.d);for(var a=this.e,b=!1,c=!1;this.i.length&&!this.j;){var d=this.i.shift(),e=d[0],f=d[1],d=d[2];if(e=this.b?f:e)try{var g=e.call(d||this.L,a);r(g)&&(this.b=this.b&&(g==a||g instanceof Error),this.e=a=g);la(a)&&(this.j=c=!0)}catch(h){a=h,this.b=!0,lb(this)||(b=!0)}}this.e=a;c&&(c=ga(this.wa,this,!0),g=ga(this.wa,this,!1),a instanceof E?(kb(a,c,g),a.w=!0):a.then(c,g));b&&(a=new nb(a),ob[a.Aa]=
a,this.g=a.Aa)};function jb(){ma.call(this)}C(jb,ma);jb.prototype.message="Deferred has already fired";jb.prototype.name="AlreadyCalledError";function nb(a){this.Aa=q.setTimeout(ga(this.b,this),0);this.a=a}nb.prototype.b=function(){delete ob[this.Aa];throw this.a;};var ob={};function mb(a){var b=ob[a];b&&(q.clearTimeout(b.Aa),delete ob[a])};function G(a){ma.call(this,a);this.name="ydn.error.ArgumentException"}C(G,ma);function pb(a){ma.call(this,a);this.name="ydn.error.NotSupportedException"}C(pb,ma);function rb(a){ma.call(this,a);this.name="ydn.error.NotImplementedException"}C(rb,ma);function sb(a){ma.call(this,a);this.name="ydn.error.InvalidOperationException"}C(sb,ma);
function tb(a){Error.captureStackTrace?Error.captureStackTrace(this,tb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InternalError"}C(tb,Error);tb.prototype.name="ydn.error.InternalError";function ub(a,b){for(var c=v(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],r(a));c++);return a}var vb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<vb.length;f++)c=vb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var xb="StopIteration"in q?q.StopIteration:Error("StopIteration");function yb(){}yb.prototype.next=function(){throw xb;};yb.prototype.Ma=function(){return this};function zb(a){if(a instanceof yb)return a;if("function"==typeof a.Ma)return a.Ma(!1);if(v(a)){var b=0,c=new yb;c.next=function(){for(;;){if(b>=a.length)throw xb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function Ab(a,b){if(v(a))try{Ta(a,b,void 0)}catch(c){if(c!==xb)throw c;}else{a=zb(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(d){if(d!==xb)throw d;}}};function Bb(a,b){this.b={};this.a=[];this.d=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)Cb(this,arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof Bb)e=a.na(),d=a.Va();else{var c=[],f=0;for(e in a)c[f++]=e;e=c;c=[];f=0;for(d in a)c[f++]=a[d];d=c}for(c=0;c<e.length;c++)Cb(this,e[c],d[c])}}l=Bb.prototype;l.sb=function(){return this.c};l.Va=function(){Db(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};
l.na=function(){Db(this);return this.a.concat()};l.clear=function(){this.b={};this.d=this.c=this.a.length=0};function Db(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Object.prototype.hasOwnProperty.call(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Object.prototype.hasOwnProperty.call(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}l.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.b,a)?this.b[a]:b};
function Cb(a,b,c){Object.prototype.hasOwnProperty.call(a.b,b)||(a.c++,a.a.push(b),a.d++);a.b[b]=c}l.forEach=function(a,b){for(var c=this.na(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};l.B=function(){return new Bb(this)};l.Ma=function(a){Db(this);var b=0,c=this.a,d=this.b,e=this.d,f=this,g=new yb;g.next=function(){for(;;){if(e!=f.d)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw xb;var g=c[b++];return a?g:d[g]}};return g};var Eb;a:{var Fb=q.navigator;if(Fb){var Gb=Fb.userAgent;if(Gb){Eb=Gb;break a}}Eb=""}function Kb(a){return-1!=Eb.indexOf(a)};var Lb=Kb("Opera")||Kb("OPR"),Mb=Kb("Trident")||Kb("MSIE"),Nb=Kb("Gecko")&&-1==Eb.toLowerCase().indexOf("webkit")&&!(Kb("Trident")||Kb("MSIE")),Ob=-1!=Eb.toLowerCase().indexOf("webkit");function Pb(){var a=q.document;return a?a.documentMode:void 0}
var Qb=function(){var a="",b;if(Lb&&q.opera)return a=q.opera.version,A(a)?a():a;Nb?b=/rv\:([^\);]+)(\)|;)/:Mb?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Ob&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Eb))?a[1]:"");return Mb&&(b=Pb(),b>parseFloat(a))?String(b):a}(),Rb={};
function Sb(a){var b;if(!(b=Rb[a])){b=0;for(var c=String(Qb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var p=k.exec(g)||["","",""],n=m.exec(h)||["","",""];if(0==p[0].length&&0==n[0].length)break;b=ra(0==p[1].length?0:parseInt(p[1],10),0==n[1].length?0:parseInt(n[1],10))||ra(0==p[2].length,0==n[2].length)||
ra(p[2],n[2])}while(0==b)}b=Rb[a]=0<=b}return b}var Tb=q.document,Ub=Tb&&Mb?Pb()||("CSS1Compat"==Tb.compatMode?parseInt(Qb,10):5):void 0;function Vb(){}function Wb(){};function Xb(){}function Yb(){};function Zb(a,b){E.call(this,0,b);this.f=[]}C(Zb,E);Zb.prototype.pa=function(a,b){this.f.push([a,b]);return this};function $b(a,b){for(var c=0;c<a.f.length;c++)a.f[c][0].call(a.f[c][1],b)}Zb.prototype.o=function(a){this.f.length=0;Zb.s.o.call(this,a)};Zb.prototype.m=function(a){this.f.length=0;Zb.s.m.call(this,a)};var ac={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange"},bc=q.IDBRequest&&"LOADING"in q.IDBRequest?q.IDBTransaction:q.webkitIDBRequest&&"LOADING"in q.webkitIDBRequest&&1===q.webkitIDBTransaction.READ_WRITE?q.webkitIDBTransaction:ac,H=bc.READ_ONLY,I=bc.READ_WRITE,cc=bc.VERSION_CHANGE,dc=q.indexedDB||q.mozIndexedDB||q.webkitIndexedDB||q.moz_indexedDB||q.msIndexedDB;E.prototype.done=E.prototype.G;E.prototype.fail=E.prototype.mb;E.prototype.always=E.prototype.ga;Zb.prototype.then=Zb.prototype.then;function ec(a,b){var c,d;2==arguments.length&&w(arguments[1])?(c=!0,d=arguments[1].split(".")):d=(c=v(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],r(a));c++);return a}function fc(a,b,c){if(a)if(-1==b.indexOf("."))a[b]=c;else{b=b.split(".");for(var d=b.pop(),e;e=b.shift();)B(a[e])||(a[e]={}),a=a[e];a[d]=c}}var gc={};
function hc(a){a=[a];for(var b=new ic,c=0,d,e;void 0!==(e=a.pop());){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(gc);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if("number"===d)c+=1,b.write(c),jc(b,e);else if(e instanceof Date)c+=2,b.write(c),jc(b,e.valueOf());else if("string"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>
2|255,(f|3)<<6)}c.write(0)}else if(e===gc)b.write(0);else return"";c=0}return b.trim().toString()}function kc(a){for(var b=[],c=b,d=[],e,f,g=new lc(a);null!=mc(g);)if(0===g.a)c=d.pop();else{if(null===g.a)break;do{e=g.a/4|0;a=g.a%4;for(var h=0;h<e;h++)f=[],c.push(f),d.push(c),c=f;if(0===a&&12<g.a+4)mc(g);else break}while(1);1===a?c.push(nc(g)):2===a?c.push(new Date(nc(g))):3===a?c.push(oc(g)):0===a&&(c=d.pop())}return b[0]}
function jc(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>
8,c&255);c=e%65536;a.write(c>>8,c&255)}function nc(a){var b=mc(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=mc(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(mc(a)|0):mc(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}
function oc(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=mc(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join("")}function lc(a){this.a=null;this.b=a;this.c=this.b.length-1;this.index=-1}function mc(a){return a.a=a.index<a.c?parseInt(a.b[++a.index]+a.b[++a.index],16):null}function ic(){this.a=[];this.b=void 0}
ic.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b="0"+this.b)};ic.prototype.trim=function(){for(var a=this.a.length;"00"===this.a[--a];);this.a.length=++a;return this};ic.prototype.toString=function(){return this.a.length?this.a.join(""):""};function pc(a,b){var c=hc(a),d=hc(b);return c>d?1:c==d?0:-1};function K(a,b,c){Zb.call(this,0,c);this.l=a;this.f=[];this.q=[];this.ja=[];this.a=null;this.ka="";this.A=0}C(K,Zb);l=K.prototype;l.ka="";l.logger=null;function qc(a,b,c){a.a=b;a.ka=c;if(b){for(c=0;c<a.q.length;c++)a.q[c][0].call(a.q[c][1],b);a.q.length=0}}function rc(a){var b=new K(a.l);a.A++;qc(b,a.a,a.ka+"C"+a.A);return b}l.Nb=function(){return!!this.a};
l.abort=function(){if(this.a)if(A(this.a.abort))this.a.abort();else if(A(this.a.executeSql))this.a.executeSql("ABORT",[],function(){},function(){return!0});else throw new pb;else throw new sc("");};function L(a,b,c){var d=a.ja.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){L(a,b,c)}):c?a.m(b):a.o(b)}function tc(a,b,c){a.ja.push([b,c])}function M(a,b,c){a.a?b.call(c,a.a):a.q.push([b,c])}l.o=function(a){K.s.o.call(this,a)};l.m=function(a){K.s.m.call(this,a)};
function uc(a){var b="";a.ka&&(b=a.a?"*":"",b="["+a.ka+b+"]");return a.l+b}function vc(a,b){var c=new K(a);L(c,b);return c}l.cc=function(){return this};l.toString=function(){return"Request:"+uc(this)};
l.Sa=function(){this.g&&this.c&&lb(this)&&(mb(this.g),this.g=0);this.d&&(this.d.t--,delete this.d);for(var a=this.e,b=!1;this.i.length&&!this.j;){var c=this.i.shift(),d=c[0],e=c[1],c=c[2];if(d=this.b?e:d)d=d.call(c||this.L,a),r(d)&&(this.b=this.b&&(d==a||d instanceof Error),this.e=a=d),la(a)&&(this.j=b=!0)}this.e=a;b&&(b=ga(this.wa,this,!0),d=ga(this.wa,this,!1),a instanceof E?(kb(a,b,d),a.w=!0):a.then(b,d))};
l.toJSON=function(){var a=(this.ka||"").match(/B(\d+)T(\d+)(?:Q(\d+?))?(?:R(\d+))?/)||[];return{method:this.l?this.l.split(":"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var N=dc&&dc.cmp?ga(dc.cmp,dc):pc,wc=[];function xc(){0!=yc&&(zc[this[ca]||(this[ca]=++da)]=this)}var yc=0,zc={};xc.prototype.Fa=!1;xc.prototype.Qa=function(){if(!this.Fa&&(this.Fa=!0,this.U(),0!=yc)){var a=this[ca]||(this[ca]=++da);delete zc[a]}};xc.prototype.U=function(){if(this.Eb)for(;this.Eb.length;)this.Eb.shift()()};function Ac(a,b){this.type=a;this.a=this.target=b;this.Cb=!0}Ac.prototype.Qa=function(){};Ac.prototype.preventDefault=function(){this.Cb=!1};function Bc(a,b){Ac.call(this,a,b)}C(Bc,Ac);Bc.prototype.h=function(){return this.b};function Cc(a,b,c,d,e){Ac.call(this,a,b);this.version=c;this.Kb=d;this.yb=e}C(Cc,Bc);l=Cc.prototype;l.name="ReadyEvent";l.version=NaN;l.Kb=NaN;l.yb=null;l.gc=function(){return this.version};l.Pb=function(){return this.Kb};l.Ob=function(){return this.yb};function Dc(a,b,c){Ac.call(this,c||"error",a);this.error=b}C(Dc,Bc);Dc.prototype.toString=function(){return this.name+":"+(this.error?this.error:"")};
Dc.prototype.name="ErrorEvent";Dc.prototype.error=null;Dc.prototype.c=function(){return this.error};function Ec(a,b){Dc.call(this,a,b,"fail")}C(Ec,Dc);Ec.prototype.name="FailEvent";function Fc(a,b,c,d,e){Ac.call(this,a,b);this.b=c;this.key=d;this.value=e}C(Fc,Bc);Fc.prototype.name="RecordEvent";Fc.prototype.c=function(){return this.key};Fc.prototype.u=function(){return this.value};function Gc(a,b,c,d,e){Ac.call(this,a,b);this.b=c;this.keys=d;this.D=e}C(Gc,Bc);Gc.prototype.name="StoreEvent";
Gc.prototype.na=function(){return this.keys};Gc.prototype.Va=function(){return this.D};function Hc(a,b,c){var d;if(B(a))d=a.store,b=a.id,null!=a.parent&&(c=new Hc(a.parent));else if(r(b))d=a;else if(d=a.lastIndexOf("^|"),b=a,0<d&&(b=a.substr(d),c=new Hc(a.substring(0,d))),b=b.split("^:"),d=b[0],b=b[1],!r(b))throw Error("Invalid key value: "+a);this.b=d;this.id=b;this.parent=c||null}l=Hc.prototype;l.toJSON=function(){var a={store:this.b,id:this.id};this.parent&&(a.parent=this.parent.toJSON());return a};
l.valueOf=function(){return(this.parent?this.parent.valueOf()+"^|":"")+this.b+"^:"+this.id};l.toString=function(){return this.valueOf().replace("^|","|").replace("^:",":")};l.h=function(){return this.b};l.Zb=function(){return this.id};function Ic(a){return t(a.id)?a.id.join("^|"):a.id instanceof Date?+a.id:a.id}l.$b=function(){return this.parent};function Jc(a){return z(a)||w(a)||t(a)&&Wa(a,Jc)||a instanceof Date}
function Kc(a){if(v(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function Q(a,b,c,d){this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d}Q.prototype.lower=void 0;Q.prototype.upper=void 0;Q.prototype.toJSON=function(){var a;a=this||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}};function Lc(a){return Mc(a)}Q.only=function(a){return new Q(a,a,!1,!1)};Q.bound=function(a,b,c,d){return new Q(a,b,c,d)};Q.upperBound=function(a,b){return new Q(void 0,a,void 0,!!b)};Q.lowerBound=function(a,b){return new Q(a,void 0,!!b,void 0)};
function Nc(a){var b;if(t(a))b=$a(a),b.push("\uffff");else if(w(a))b=a+"\uffff";else if(z(a))b=a+2.220460492503131E-16,a-=2.220460492503131E-16;else return Q.only(a);return Q.bound(a,b,!1,!0)}function Mc(a){return null!=a?null!=a.upper&&null!=a.lower?Oc.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?Oc.upperBound(a.upper,a.upperOpen):null!=a.lower?Oc.lowerBound(a.lower,a.lowerOpen):null:null}
Q.prototype.Z=function(a){var b=this.lower,c=this.upper,d=this.lowerOpen,e=this.upperOpen;null!=a.lower&&(null==this.lower||a.lower>=this.lower)&&(b=a.lower,d=a.lowerOpen||this.lowerOpen);null!=a.upper&&(null==this.upper||a.upper<=this.upper)&&(c=a.upper,e=a.upperOpen||this.upperOpen);return Q.bound(b,c,d,e)};
function Pc(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==N(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?" > ":" >= ";d.push(a+f+"?");e.push(Qc(c.lower,b))}null!=c.upper&&(f=c.upperOpen?" < ":" <= ",d.push(a+f+"?"),e.push(Qc(c.upper,b)))}else d.push(a+" = ?"),e.push(Qc(c.lower,b))}
function Rc(a,b,c,d){var e,f,g,h;if("starts"==a||"^"==a)return Nc(b);if("<"==a||"<="==a)e=b,g="<"==a;else if(">"==a||">="==a)f=b,h=">"==a;else if("="==a||"=="==a)e=f=b;else throw new G("invalid op: "+a);if("<"==c||"<="==c)e=d,g="<"==c;else if(">"==c||">="==c)f=d,h=">"==c;else if(r(c))throw new G("invalid op2: "+c);return Q.bound(f,e,h,g)}var Oc=q.IDBKeyRange||q.webkitIDBKeyRange||Q;function Sc(a,b,c,d,e,f){r(e)||(e=t(a)?a.join(", "):a);if(null!=a&&!w(a)&&!v(a))throw new G("index keyPath for "+e+" must be a string or array, but "+a+" is "+typeof a);!r(a)&&r(e)&&(a=e);this.keyPath=a;this.f=v(this.keyPath);this.a=e;this.type=Tc(b);if(r(b)){if(!r(this.type))throw new G("type invalid in index: "+this.a);if(t(this.keyPath))throw new G('composite key for store "'+this.a+'" must not specified type');}this.unique=!!c;this.multiEntry=!!d;this.g=w(this.type)?this.type:Uc;this.d=w(e)?e:
t(a)?this.keyPath.join(","):a;this.c=qa(this.d);this.b=this.f?null:this.keyPath.split(".");this.e=f||null}var Uc="TEXT";function Qc(a,b){if("DATE"==b){if(a instanceof Date)return+a}else return null!=b?a:hc(a)}function Vc(a,b){return"DATE"==b?new Date(a):r(b)?a:kc(a)}var Wc=["BLOB","DATE","INTEGER","NUMERIC",Uc];function Tc(a){if(w(a))return a=Sa(Wc,a),Wc[a]}Sc.prototype.getName=function(){return this.a};
Sc.prototype.toJSON=function(){return{name:this.a,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};Sc.prototype.B=function(){var a=t(this.keyPath)?$a(this.keyPath):this.keyPath;return new Sc(a,this.type,this.unique,this.multiEntry,this.a,this.e)};function Xc(a,b){return null!=a||null!=b?null!=a?null!=b?v(a)&&v(b)?cb(a,b)?null:"expect: "+a+", but: "+b:Yc(a,b)?null:"expect: "+a+", but: "+b:"keyPath: "+a+" no longer defined":"newly define "+b:null}
Sc.prototype.hint=function(a){if(!a)return this;var b=t(this.keyPath)?$a(this.keyPath):this.keyPath,c=this.type;r(a.type)||"TEXT"!=c||(c=void 0);return new Sc(b,c,this.unique,this.multiEntry,a.a)};function Zc(a,b,c,d,e,f,g,h){this.d=a;if(!w(this.d))throw new G("store name must be a string");this.keyPath=r(b)?b:null;this.i=v(this.keyPath);if(null!==this.keyPath&&!w(this.keyPath)&&!this.i)throw new G("keyPath must be a string or array");this.b=c;var k;if(null!=d){k=Tc(d);if(!r(k))throw new G('type "'+d+'" for primary key in store "'+this.d+'" is invalid.');if(this.i)throw new G('composite key for store "'+this.d+'" must not specified type');}this.type=null!=k?k:this.b?"INTEGER":void 0;this.f=
w(this.keyPath)?this.keyPath.split("."):[];this.a=e||[];this.$=!!f;this.fa=!!g;this.l=w(this.type)?this.type:Uc;this.e=t(this.keyPath)?this.keyPath.join(","):w(this.keyPath)?this.keyPath:"_ROWID_";this.c=qa(this.e);this.j=!!h;this.g=[]}l=Zc.prototype;l.$=!1;l.fa=!1;l.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.d,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};
function $c(a){var b=[],c=a.indexes||[];if(t(c))for(var d=0;d<c.length;d++){var e;e=c[d];e=new Sc(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);r(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new Zc(a.name,a.keyPath,a.autoIncrement,"undefined"===a.type||"null"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed,a.encrypted)}
function ad(a,b,c,d,e,f,g){a=bd(a,b,c,d,e,f,g);b="";0!=c&&(b+="SELECT "+a.select);b+=" FROM "+a.J;a.n&&(b+=" WHERE "+a.n);a.group&&(b+=" GROUP BY "+a.group);a.K&&(b+=" ORDER BY "+a.K);return b}
function bd(a,b,c,d,e,f,g){var h={select:"",J:"",n:"",group:"",K:""},k=a.e,m=a.c,p=null;d!==k&&w(d)&&(p=cd(a,d));var n=!!p,s=d||k,u=qa(s),x=n?p.type:a.type,y=n&&p.multiEntry;h.J=dd(a);6===c?h.select="COUNT("+m+")":3===c||1===c||2===c?(h.select=m,null!=d&&d!=k&&(h.select+=", "+u)):h.select="*";d=g?"DISTINCT ":"";k=[];y?(y=qa("ydn.db.me:"+a.getName()+":"+p.getName()),h.select=6===c?"COUNT("+d+y+"."+u+")":3===c||1===c||2===c?"DISTINCT "+dd(a)+"."+m+", "+y+"."+u+" AS "+s:"DISTINCT "+dd(a)+".*, "+y+"."+
u+" AS "+s,h.J=y+" INNER JOIN "+dd(a)+" USING ("+m+")",null!=e&&(Pc(y+"."+u,x,e,k,b),0<k.length&&(h.n=h.n?h.n+(" AND "+k.join(" AND ")):k.join(" AND ")))):null!=e&&(Pc(u,x,e,k,b),0<k.length&&(h.n=h.n?h.n+(" AND "+k.join(" AND ")):k.join(" AND ")));n&&!p.unique&&g&&(h.group=u);a=f?"DESC":"ASC";h.K=u+" "+a;n&&(h.K+=", "+m+" "+a);return h}
function ed(a,b,c,d,e,f,g,h,k){var m,p,n,s;null!=e?(m=e.lower,p=e.upper,n=e.lowerOpen,s=e.upperOpen,f?null!=p?(e=N(h,p),-1==e?(p=h,s=k):0==e&&(s=k||s)):(p=h,s=k):null!=m?(e=N(h,m),1==e?(m=h,n=k):0==e&&(n=k||n)):(m=h,n=k)):f?(p=h,s=k):(m=h,n=k);e=new Q(m,p,!!n,!!s);d=d?cd(a,d):null;b=bd(a,c,b,d?d.d:a.e,e,f,g);b="SELECT "+b.select+" FROM "+b.J+(b.n?" WHERE "+b.n:"")+(b.group?" GROUP BY "+b.group:"")+" ORDER BY "+b.K;d&&(b+=", "+a.c+(f?"DESC":"ASC"));return b}
function fd(a,b,c,d,e,f,g,h,k,m){var p=cd(a,d),n=p.d;d=p.c;var s=a.c,u=k?" <":" >",u=g?u+" ":u+"= ";g=Qc(f,p.type);h=Qc(h,a.type);p="";e?(a=bd(a,c,b,n,e,k,m),a.n+=" AND ",p=d+u+"?",c.push(g)):(e=k?Q.upperBound(f,!0):Q.lowerBound(f,!0),a=bd(a,c,b,n,e,k,m),p=a.n,a.n="");a.n+="("+p+" OR ("+d+" = ? AND "+s+u+"?))";c.push(g);c.push(h);return"SELECT "+a.select+" FROM "+a.J+" WHERE "+a.n+(a.group?" GROUP BY "+a.group:"")+" ORDER BY "+a.K}l.B=function(){return $c(this.toJSON())};
l.index=function(a){return this.a[a]||null};function cd(a,b){return Xa(a.a,function(a){return a.getName()==b})}function gd(a,b){for(var c=0;c<a.a.length;c++)if(!Xc(a.a[c].keyPath,b))return a.a[c];return null}function hd(a,b){return b===a.keyPath?!0:Va(a.a,function(a){return a.getName()==b})}function dd(a){return qa(a.d)}
function id(a,b){if(!b)return a;var c=a.b,d=t(a.keyPath)?$a(a.keyPath):a.keyPath,e=a.type,f=Ua(a.a,function(a){return a.B()});r(b.type)||"TEXT"!=e||(e=void 0);t(b.keyPath)&&w(d)&&d==b.keyPath.join(",")&&(d=$a(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].f)for(var k=b.a[g].getName(),m=f.length-1;0<=m;m--)if(0<=k.indexOf(f[m].getName())){f[m]=b.a[g].B();break}for(g=0;g<f.length;g++)(h=cd(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new Zc(b.d,d,c,e,f)}l.getName=function(){return this.d};
function jd(a){return!!a.keyPath}function kd(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.i){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(ec(b,a.keyPath[d]));return c}if(a.keyPath)return ub(b,a.f)}}function ld(a,b,c){for(var d=0;d<a.f.length;d++){var e=a.f[d];if(d==a.f.length-1){b[e]=c;break}r(b[e])||(b[e]={});b=b[e]}}
function md(a,b,c){var d=[],e=[];c=r(c)?c:kd(a,b);r(c)&&(e.push(a.c),d.push(Qc(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&"_default_"!=g.getName()){var h;h=g;var k=b;if(null!=k)if(v(h.keyPath)){for(var m=[],p=0,n=h.keyPath.length;p<n;p++){var s=ec(k,h.keyPath[p]);m[p]=s}h=m}else h=ec(k,h.keyPath);else h=void 0;null!=h&&(d.push(Qc(h,g.type)),e.push(g.c))}}a.fa?a.fa&&!a.keyPath&&0==a.a.length&&(w(b)&&-1==b.indexOf(";base64,")?d.push(b):d.push(R(b)),
e.push("_default_")):(d.push(R(b)),e.push("_default_"));a=[];for(f=d.length-1;0<=f;f--)a[f]="?";return{rb:e,Db:a,D:d,key:c}}
function nd(a,b){if(!b)return"missing store: "+a.d;if(a.d!=b.d)return"store name, expect: "+a.d+", but: "+b.d;var c=Xc(a.keyPath,b.keyPath);if(c)return"keyPath, "+c;if(r(a.b)&&r(b.b)&&a.b!=b.b)return"autoIncrement, expect:  "+a.b+", but: "+b.b;if(a.a.length!=b.a.length)return"indexes length, expect:  "+a.a.length+", but: "+b.a.length;if(r(a.type)&&r(b.type)&&(v(a.type)?!cb(a.type,b.type):a.type!=b.type))return"data type, expect:  "+a.type+", but: "+b.type;for(c=0;c<a.a.length;c++){var d=cd(b,a.a[c].getName()),
e;e=a.a[c];if(d)if(e.a!=d.a)e="name, expect: "+e.a+", but: "+d.a;else{var f=Xc(e.keyPath,d.keyPath);e=f?"keyPath, "+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?"unique, expect: "+e.unique+", but: "+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?"multiEntry, expect: "+e.multiEntry+", but: "+d.multiEntry:r(e.type)&&r(d.type)&&(v(e.type)?!cb(e.type,d.type):e.type!=d.type)?"data type, expect: "+e.type+", but: "+d.type:""}else e="no index for "+e.a;if(0<e.length)return'index "'+
a.a[c].getName()+'" '+e}return""}function od(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.e){var f=d.e(e),g=typeof f;if("string"==g||"number"==g||f instanceof Date||t(f)){for(g=0;g<d.b.length-1;g++)B(e[d.b[g]])||(e[d.b[g]]={});e[d.b[d.b.length-1]]=f}}}}function pd(a,b){a.g.push(b)}function qd(a,b,c,d,e){for(var f=0;f<a.g.length;f++)d!==f&&a.g[f].call(e,b,c)};function rd(a){return!w(a)||/^[\s\xa0]*$/.test(a)?{}:JSON.parse(a)}function sd(a){var b;try{b=R(a)}catch(c){b=""}return b?b.substr(0,70)+(70<b.length?"...":""):""}function R(a){return JSON.stringify(a,void 0,void 0)};function td(a,b,c){this.b=a;this.a=b;this.c=c||1}td.prototype.h=function(){return this.b};function ud(a,b,c,d){this.name=a;this.b=b;this.c=c||"";this.d=d||null;this.a=null}ud.prototype.getName=function(){return this.name};ud.prototype.count=function(){return this.b.length};ud.prototype.index=function(a){return this.b[a]};function vd(a,b,c){return Xa(a.b,function(a){return a.h()==b&&a.a==c})}
function wd(a){if(!t(a.sources))throw new G("indexes require for full text search index "+a.name+", but "+a.sources+" of type "+typeof a.sources+" found.");var b=a.sources.map(function(a){return new td(a.storeName,a.keyPath,a.weight)});return new ud(a.name,b,a.lang)};function xd(a,b){var c,d,e=b;if(B(a)){d=a;c=d.version;for(var e=[],f=d.stores||[],g=0;g<f.length;g++){var h=$c(f[g]);e.push(h)}}else w(a)?c=0==a.length?void 0:parseFloat(a):z(a)&&(c=a);if(r(c)){if(!z(c)||0>c)throw new G("Invalid version: "+c+" ("+a+")");isNaN(c)&&(c=void 0)}if(r(b)&&(!t(b)||0<b.length&&!(b[0]instanceof Zc)))throw new G("stores");this.version=c;this.b=!r(this.version);this.stores=e||[];c=[];if(d&&d.fullTextCatalogs)for(g=0;g<d.fullTextCatalogs.length;g++)e=wd(d.fullTextCatalogs[g]),
c[g]=e,S(this,e.getName())||(f=[new Sc("k",Uc),new Sc("v",Uc)],e=new Zc(e.getName(),"id",!1,void 0,f,!1,!1,!1),this.stores.push(e));this.c=c}xd.prototype.toJSON=function(){var a=Ua(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;r(this.version)&&(b.version=this.version);return b};xd.prototype.b=!1;xd.prototype.a=function(){return!1};function yd(a){return Ua(a.stores,function(a){return a.getName()})}xd.prototype.count=function(){return this.stores.length};
function S(a,b){return Xa(a.stores,function(a){return a.getName()==b})}function zd(a,b){return Va(a.stores,function(a){return a.getName()==b})}
function Ad(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return"Number of store: "+a.stores.length+" vs "+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=S(b,a.stores[e].getName());if(f){c&&(f=id(f,a.stores[e]));if(d)for(var g=f,h=a.stores[e],k=0;k<h.a.length;k++){var m=h.a[k];hd(g,m.getName())||"BLOB"!=m.type||(m=new Sc(m.keyPath,m.type,m.unique,m.multiEntry,m.getName()),g.a.push(m))}f=nd(a.stores[e],f);if(0<f.length)return'store: "'+a.stores[e].getName()+'" '+f}else return'missing object store "'+
a.stores[e].getName()+'"'}return""}function Bd(a,b){return Xa(a.c,function(a){return a.getName()==b})};function Cd(a,b){xd.call(this,a,b)}C(Cd,xd);Cd.prototype.a=function(){return!0};function Dd(a,b){a.stores.push(b)};function Ed(a){Error.captureStackTrace?Error.captureStackTrace(this,Ed):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ArgumentException"}C(Ed,Error);function Fd(a){Error.captureStackTrace?Error.captureStackTrace(this,Fd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.NotSupportedException"}C(Ed,Error);Fd.prototype.name="ydn.error.NotSupportedException";
function Gd(a){Error.captureStackTrace?Error.captureStackTrace(this,Gd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.NotImplementedException"}C(Gd,Error);function Hd(a){Error.captureStackTrace?Error.captureStackTrace(this,Hd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InternalError"}C(Hd,Error);Hd.prototype.name="ydn.InternalError";
function Id(a){Error.captureStackTrace?Error.captureStackTrace(this,Id):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ConstraintError"}C(Id,Error);Id.prototype.name="ydn.error.ConstraintError";function Jd(a){Error.captureStackTrace?Error.captureStackTrace(this,Jd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InvalidOperationException"}C(Ed,Error);
function Kd(a){Error.captureStackTrace?Error.captureStackTrace(this,Kd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InvalidOperationError"}C(Kd,Error);function Yc(a,b){var c;c=c||{};if(null!=a&&null!=b){if(v(a)&&v(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==Xa(b,function(b){return Yc(b,a[d])}))return!1;return!0}if(v(a))return 1==a.length&&Yc(a[0],b);if(v(b))return 1==b.length&&Yc(b[0],a);if(B(a)&&B(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=Yc(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=Yc(a[e],b[e]),!f))return!1;return!0}return a===b}return!1}
function Ld(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return a[b]};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
function T(a,b,c){c=c||{};this.q=c.mechanisms||Md;this.l=c.size;this.t=r(c.connectionTimeout)?c.connectionTimeout:6E4;this.c=null;this.e=[];this.Ba=!1;var d;if(b instanceof xd)d=b;else if(B(b)){c.autoSchema||!r(b.stores)?d=new Cd(b):d=new xd(b);var e=b.stores?b.stores.length:0;for(c=0;c<e;c++){var f=S(d,b.stores[c].name);b.stores[c].Sync&&f.getName()}}else d=new Cd;this.b=d;for(c=0;c<this.b.count();c++)(this.b.stores[c]||null).j&&(this.b.stores[c]||null).getName();r(a)&&this.j(a);this.f=null;this.d=
new E}T.prototype.logger=null;T.prototype.w=function(a){if(r(a)){var b=function(b){a(b.toJSON());a=void 0};if(this.c)this.c.Y(b);else{var c=this;this.transaction(function(a){c.c.Y(b,a)},null,H)}}return this.b?this.b.toJSON():null};T.prototype.j=function(a){if(this.c)throw new sb("Already connected with "+this.g);this.g=a;Nd(this)};T.prototype.getName=function(){return this.g};var Md="indexeddb sqlite websql localstorage sessionstorage userdata memory".split(" ");l=T.prototype;l.Pa=function(){return null};
function Nd(a){function b(b,e){b?(a.tb=NaN,d.Ha=function(b){a.H(new Dc(a,b))},d.ib=function(b){a.H(new Ec(a,b));a.c=null},d.Za=function(b){a.H(b)},setTimeout(function(){Od(a,e);Pd(a)},10),c.o(e)):(setTimeout(function(){Od(a,new Ec(a,e));if(a.e)for(var b;b=a.e.shift();)b.F&&b.F("error",e)},10),c.m(e))}for(var c=new E,d=null,e=a.q,f=0;f<e.length;f++){var g=e[f].toLowerCase();if(d=a.Pa(g)){d=a.Pa(g);break}}null===d?(e=new Id("No storage mechanism found."),b(!1,new Ec(a,e))):kb(d.gb(a.g,a.b),function(a){this.c=
d;b(!0,new Cc("ready",this,parseFloat(d.Jb()),parseFloat(a),null))},function(a){b(!1,a)},a)}l.Ia=function(){if(this.c)return this.c.Ib()};l.Ea=function(a,b){this.d.ga(a,b)};function Od(a,b){setTimeout(function(){a.b.b&&a.d.c||(b instanceof Dc?a.d.m(b.error):a.d.o(),a.H(b))},4)}function Qd(a){return!!a.c&&a.c.hb()}l.close=function(){this.c&&(this.c.close(),this.c=null)};l.tb=NaN;function Pd(a){var b=a.e.shift();b&&a.transaction(b.za,b.Ub,b.mode,b.F);a.tb=ia()}l.Ba=!1;
l.transaction=function(a,b,c,d){var e=b;w(b)?e=[b]:null!=b||(e=null);if(this.c&&this.c.hb()&&!this.Ba){var f=this,g=r(c)?c:H;g==cc&&(this.Ba=!0);this.c.Ra(function(b){a(b);a=null},e,g,function(a,b){A(d)&&(d(a,b),d=void 0);g==cc&&(f.Ba=!1);Pd(f)})}else this.e.push({za:a,Ub:e,mode:c,F:d})};l.nb=function(a){a.getName()};l.H=function(){};T.prototype.close=T.prototype.close;T.prototype.getType=T.prototype.Ia;T.prototype.getName=T.prototype.getName;T.prototype.getSchema=T.prototype.w;T.prototype.onReady=T.prototype.Ea;T.prototype.setName=T.prototype.j;T.prototype.transaction=T.prototype.transaction;ja("ydn.db.version","1.0.2");ja("ydn.db.cmp",N);ja("ydn.db.deleteDatabase",function(a,b){for(var c,d=0;d<wc.length;d++){var e=wc[d](a,b);e&&(c=e)}return c||vc("vc",null)});Cc.prototype.name=Cc.prototype.name;Cc.prototype.getVersion=Cc.prototype.gc;
Cc.prototype.getOldVersion=Cc.prototype.Pb;Cc.prototype.getOldSchema=Cc.prototype.Ob;Dc.prototype.getError=Dc.prototype.c;K.prototype.abort=K.prototype.abort;K.prototype.canAbort=K.prototype.Nb;K.prototype.progress=K.prototype.pa;K.prototype.promise=K.prototype.cc;function Rd(a){Error.captureStackTrace?Error.captureStackTrace(this,Rd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ConstraintError"}C(Rd,Error);Rd.prototype.name="ConstraintError";function Sd(a){Error.captureStackTrace?Error.captureStackTrace(this,Sd):this.stack=Error().stack||"";a&&(this.message=String(a))}C(Sd,Error);Sd.prototype.name="ydn.db.InternalError";
function sc(a){Error.captureStackTrace?Error.captureStackTrace(this,sc):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidStateError"}C(sc,Error);function Td(a){Error.captureStackTrace?Error.captureStackTrace(this,Td):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidAccessError"}C(Td,Error);function Ud(a){Error.captureStackTrace?Error.captureStackTrace(this,Ud):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="NotFoundError"}
C(Ud,Error);Ud.prototype.name="NotFoundError";function Vd(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Vd):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message+" ["+a.code+"]";this.name="SQLError"}C(Vd,Error);function Wd(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Wd):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message;this.name="SecurityError"}C(Wd,Error);
function Xd(a){Error.captureStackTrace?Error.captureStackTrace(this,Xd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.SqlParseError"}C(Xd,Error);function Yd(a){Error.captureStackTrace?Error.captureStackTrace(this,Yd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.TimeoutError"}C(Yd,Error);function Zd(a,b){this.a=b}Zd.prototype.logger=null;function $d(a){this.d=a;this.a=null;this.b=0}$d.prototype.logger=null;$d.prototype.I=null;function ae(a){return!!a.a&&!a.c}$d.prototype.F=null;function be(a,b,c,d,e,f){this.A=a;this.L=b;this.a=this.e=0;this.w=d;this.t=e;this.g=c||ce;this.j=f||0}be.prototype.logger=null;be.prototype.type=function(){return this.A.Ia()};be.prototype.c=function(){return this.A};be.prototype.R=function(){return"B"+this.L+"T"+this.e};var ce="single";function de(a){if(a)if(A(a.abort))a.abort();else if(A(a.executeSql))a.executeSql("ABORT",[],null,function(){return!0});else throw new pb;else throw new sc("No active transaction");};function ee(a,b,c,d,e,f){be.call(this,a,b,c,d,e,f);this.d=[];this.f=[];this.i=null;this.b=new $d(b);this.l=f||0;this.q=!1}C(ee,be);l=ee.prototype;l.logger=null;
function fe(a,b,c){if("multi"==a.g)a:if(a=a.b,!a.I||!a.mode||c!=a.mode&&(a.mode!=I||c!=H)||b.length>a.I.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.I.indexOf(b[c])){b=!1;break a}b=!0}else if("repeat"==a.g)a:if(a=a.b,a.I&&a.mode&&c==a.mode&&a.I.length==b.length){for(c=0;c<b.length;c++)if(-1==a.I.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b="all"==a.g?!0:!1;return b}function ge(a){var b=0<a.d.length?a.d[0].I:null,c=0<a.d.length?a.d[0].mode:null;return null!=b&&null!=c?fe(a,b,c):!1}
l.abort=function(){de(this.i)};
l.ca=function(a,b,c,d){var e=w(b)?[b]:b,f=r(c)?c:H,g=this;if(this.b.a||!Qd(this.c())&&this.q)this.d.push({za:a,I:b,mode:f,F:d});else{d&&this.f.push(d);if(this.l&&this.e>=this.l)throw new sb("Exceed maximum number of transactions of "+this.l);this.q=!0;this.c().transaction(function(c){var d=g.b;d.a=c;d.c=!1;d.I=b;d.mode=f;d.b++;d.F=null;R(b);a(g);for(a=null;ge(g);)c=g.d.shift(),c.F&&g.f.push(c.F),c.za()},e,f,function(a,b){var c=g.b;c.a&&(c.a=null,c.I=null,c.mode=null,A(c.F)&&c.F(a,b),c.F=null);for(c=
0;c<g.f.length;c++)(0,g.f[c])(a,b);g.f.length=0;(c=g.d.shift())&&g.ca(c.za,c.I,c.mode,c.F);g.a=0})}};l.R=function(){var a=this.b;return"B"+a.d+"T"+a.b};l.request=function(a,b,c,d){function e(a,b){f.a=null;d&&d(a,b)}var f=new K(a);a=c||H;var g=this;ae(this.b)&&fe(this,b,a)?(b=this.b.a,this.a++,qc(f,b,this.R()+"R"+this.a),this.f.push(e)):g.ca(function(){var a=g.b.a;g.a++;qc(f,a,g.R()+"R"+g.a)},b,a,e);return f};
l.Q=function(a,b,c,d,e){d=d||H;var f=this,g;if(ae(f.b)&&fe(this,c,d)){var h=f.b.a;f.a++;g=f.R()+"R"+f.a;b(h,g,function(b,c){f.i=h;c?a.m(b):a.o(b);f.i=null});b=null}else f.ca(function(){var c=f.b.a;f.a++;g=f.R()+"R"+f.a;b(c,g,function(b,d){f.i=c;d?a.m(b):a.o(b);f.i=null});b=null},c,d,e)};l.getName=function(){return this.c().getName()};function he(a,b){ee.call(this,a,b)}C(he,ee);he.prototype.logger=null;he.prototype.request=function(a,b,c){var d,e,f,g=he.s.request.call(this,a,b,c,function(a,b){g.a=null;if(d)"complete"!=a&&(f=!0,e=b),d(e,f);else{var c=new Yd;L(g,c,!0)}});tc(g,function(a,b,c){f=b;e=a;d=c});return g};
he.prototype.Q=function(a,b,c,d,e){var f,g,h=new E;kb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});he.s.Q.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.m(c);else if(!0===g)a.m(f);else if(!1===g)a.o(f);else{var d=new Yd;a.m(d)}e&&(e(b,c),e=void 0)})};function ie(a,b,c,d){this.e=a;this.b=b;this.a=c;this.f=d;this.d=null}ie.prototype.logger=null;ie.prototype.g=function(){return this.a.e};ie.prototype.abort=function(){this.a.abort()};function U(a){if(!a.d){var b;b=a.e;var c=b.Ia();if("indexeddb"==c)b=new je(0,b.b);else if("websql"==c||"sqlite"==c)b=new ke(0,b.b);else throw new tb("No executor for "+c);a.d=b}return a.d}ie.prototype.c=function(){return this.e};
function le(a,b){var c=a.c(),d=b instanceof Zc?b:$c(b),e=S(c.b,b.name);if(0==nd(d,e).length)(new E).o(!1);else if(c.b instanceof Cd)Dd(c.b,d),c.c?(c.c.close(),c.c=null,Nd(c)):(new E).o(!1);else throw new Id("");};function V(a,b,c,d){ie.call(this,a,b,c,d)}C(V,ie);l=V.prototype;l.logger=null;
l.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(t(a)){if(r(c)||r(b))throw new G("too many arguments.");f=a;for(var k=0;k<f.length;k++)if(!zd(this.b,f[k]))throw new G('store name "'+f[k]+'" at '+k+" not found.");Yb("countStores: "+R(f));e=this.a.request("d",f);M(e,function(){U(this).Oa(e,f)},this)}else if(w(a)){k=S(this.b,a);if(!k)throw new G('store name "'+a+'" not found.');f=[a];if(w(b))g=b,B(c)?h=Mc(c):h=null;else if(B(b)||null==b)if(B(b))h=Mc(b);else{if(null!=b)throw new G("key range must be  an object but found "+
sd(b)+" of type "+typeof b);h=null}else throw new G('invalid second argument for count "'+sd(c)+'" of type '+typeof b);Yb("countKeyRange: "+a+" "+(g?g:"")+R(h));e=this.a.request("d",f);qd(k,e,arguments);M(e,function(){U(this).xa(e,f[0],h,g,!!d)},this)}else throw new G("Invalid store name or store names.");else k=yd(this.b),e=this.a.request("d",k),tc(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),M(e,function(){U(this).Oa(e,f)},this);return e};
l.get=function(a,b){var c=this,d;if(a instanceof Hc){var e=a,f=e.h(),g=S(this.b,f);if(!g){if(this.b.a()){if(Qd(this.c()))return vc("e",void 0);d=new K("e");this.c().Ea(function(){kb(c.get(a,b),function(a){d.o(a)},function(a){d.m(a)})});return d}throw new G("Store: "+f+" not found.");}var h=e.id;d=this.a.request("ek",[f]);qd(g,d,arguments,void 0,this);M(d,function(){U(this).Ta(d,f,h)},this)}else if(w(a)&&r(b)){var k=a,g=S(this.b,k);if(!g){if(this.b.a()){if(Qd(this.c()))return vc("e",void 0);d=new K("e");
this.c().Ea(function(){kb(c.get(a,b),function(a){d.o(a)},function(a){d.m(a)})});return d}throw new G('Store name "'+k+'" not found.');}var m=b;d=this.a.request("e",[k]);qd(g,d,arguments,void 0,this);M(d,function(){U(this).Ta(d,k,m)},this)}else throw new G("get require valid input arguments.");return d};
l.keys=function(a,b,c,d,e,f,g){var h,k,m=null,p=!1,n=!1,s=a,u=S(this.b,s);if(this.b.a()&&!u)return vc("g",[]);var x;if(w(b)){var y=b,m=Mc(c);if(z(d))h=d;else{if(r(d))throw new G("limit must be a number");h=100}if(z(e))k=e;else{if(r(e))throw new G("offset must be a number");k=0}if(r(f))if(ba(f))p=f;else throw new G("reverse must be a boolean");if(r(g))if(ba(g))n=g;else throw new G("unique must be a boolean");x=this.a.request("i",[s]);qd(u,x,arguments);M(x,function(){U(this).O(x,2,s,y,m,h,k,p,n)},this)}else{B(b)?
m=Mc(b):m=null;if(z(c))h=c;else{if(r(c))throw new G("limit must be a number");h=100}if(z(d))k=d;else{if(r(d))throw new G("offset must be a number");k=0}if(r(e))if(ba(e))p=e;else throw new G("reverse must be a boolean");x=this.a.request("g",[s]);qd(u,x,arguments);M(x,function(){U(this).O(x,2,s,null,m,h,k,p,!1)},this)}return x};
l.D=function(a,b,c,d,e,f,g){var h=this,k,m,p,n=!1,s=!1;if(w(a)){var u=a,x=S(this.b,u);if(!x){if(this.b.a()){if(Qd(this.c()))return vc("s",[]);k=new K("s");this.c().Ea(function(){kb(h.D(a,b,c,d,e,f),function(a){k.o(a)},function(a){k.m(a)})});return k}throw new Ud(u);}if(t(b)){var y=b;k=this.a.request("v",[u]);qd(x,k,arguments,void 0,this);M(k,function(){U(this).vb(k,u,y)},this)}else if(w(b)){var F=b,D=Mc(c);if(r(d))if(z(d))m=d;else throw new G("limit must be a number.");else m=100;if(r(e))if(z(e))p=
e;else throw new G("offset must be a number.");else p=0;if(ba(f))n=f;else if(r(f))throw new G("reverse must be a boolean, but "+f);if(r(g))if(ba(g))s=g;else throw new G("unique must be a boolean");k=this.a.request("u",[u]);qd(x,k,arguments);M(k,function(){U(this).O(k,4,u,F,D,m,p,n,s)},this)}else{D=null;B(b)&&(D=Mc(b));if(r(c))if(z(c))m=c;else throw new G("limit must be a number, but "+c+" is "+typeof c);else m=100;if(r(d))if(z(d))p=d;else throw new G("offset must be a number, but "+d+" is "+typeof d);
else p=0;if(r(e))if(ba(e))n=e;else throw new G("reverse must be a boolean, but "+e+" is "+typeof e);k=this.a.request("s",[u]);qd(x,k,arguments);M(k,function(){U(this).O(k,4,u,null,D,m,p,n,!1)},this)}}else if(t(a))if(a[0]instanceof Hc){for(var x=[],J=a,O=0;O<J.length;O++){var P=J[O].h();if(!zd(this.b,P)){if(this.b.a())return x=[],x[J.length-1]=void 0,vc("e",x);throw new G("Store: "+P+" not found.");}0<=Sa(x,P)||x.push(P)}Yb("listByKeys: "+R(x)+" "+J.length+" keys");k=this.a.request("w",x);M(k,function(){U(this).wb(k,
J)},this)}else throw new G("first argumentmust be array of ydn.db.Key, but "+a[0]+" of "+typeof a[0]+" found.");else throw new G("first argument "+a+" is invalid.");return k};
l.add=function(a,b,c){var d=w(a)?a:B(a)?a.name:void 0;if(!w(d))throw new G("store name "+d+" must be a string, but "+typeof d);var e=S(this.b,d);if(!e){if(!this.b.a())throw new G('store name "'+d+'" not found.');e=$c(B(a)?a:{name:d});le(this,e)}else if(this.b.a()&&B(a)&&(a=$c(a),a=nd(e,a)))throw new pb(a);var f;if(!e)throw new G('store name "'+d+'" not found.');if(w(e.keyPath)&&r(c))throw new G("key must not be provided while the store uses in-line key.");if(!e.keyPath&&!e.b&&!r(c))throw new G("out-of-line key must be provided.");
if(t(b)){for(a=0;a<b.length;a++)od(e,b[a]);f=this.a.request("b",[d],I);M(f,function(){U(this).V(f,!1,!1,d,b,c)},this);e.$&&f.G(function(a){a=new Gc("created",this.c(),e.getName(),a,b);this.c().H(a)},this)}else if(B(b))kd(e,b,c),od(e,b),f=this.a.request("a",[d],I),M(f,function(){U(this).V(f,!1,!0,d,[b],[c])},this),e.$&&f.G(function(a){a=new Fc("created",this.c(),e.getName(),a,b);this.c().H(a)},this);else throw new G("record must be an object or array list of objects, but "+b+" of type "+typeof b+" found.");
return f};function me(a,b){var c=w(b)?b:B(b)?b.name:void 0;if(!w(c))throw new G("store name must be a string");var d=S(a.b,c);if(!d){if(!a.b.a())throw new Ud(c);d=$c(B(b)?b:{name:c});le(a,d)}else if(a.b.a()&&B(b)){var e=$c(b);if(e=nd(d,e))throw new pb(e);}if(!d)throw new Ud(c);return d}l.load=function(a,b,c){var d=c||",",e=me(this,a).getName();a=this.a.request("i3",[e]);var f=this;this.a.Q(a,function(a,c,k){U(f).zb(a,c,k,e,b,d)},[e],I);return a};
function ne(a,b){var c=oe(b),d=a.a.request("qb",c,H);M(d,function(){var a=U(this);pe(b,function(c,g,h,k){var m=rc(d);a.O(m,4,c,g,Mc(h),100,0,!1,!1);m.ga(function(a){var c=null;a instanceof Array||(c=a,a=[]);for(var e=0;e<a.length;e++){var f;f=a[e];var g=f.id,g=w(g)?kc(g):g,h=g[3];(f=1==this.type&&h!=this.value?null:new qe(this,g[0],g[2],g[1],h,f.k,f.loc))&&b.d.push(f)}b.c--;a=0==b.c?!1:b.b[b.b.length-1].g===this.g?!0:null;!0===a?$b(d,b):!1===a&&d.o(b.e());if(c)throw c;},k)})},a);return d}
l.put=function(a,b,c){var d,e=this;if(a instanceof Hc){var f=a,g=f.h(),h=S(this.b,g);if(!h)throw new G('store "'+g+'" not found.');if(h.keyPath){var k=kd(h,b);if(null!=k){if(0!=N(k,f.id))throw new G("Inline key must be "+f+" but "+k+" found.");}else ld(h,b,f.id);return this.put(g,b)}return this.put(g,b,f.id)}if(t(a)){for(var m=a,p=b,f=[],g=0,h=m.length;g<h;g++){k=m[g].h();-1==Sa(f,k)&&f.push(k);var n=S(this.b,k);if(!n)throw new G('store "'+k+'" not found.');n.keyPath&&ld(n,p[g],m[g].id)}Yb("putByKeys: to "+
R(f)+" "+p.length+" objects");for(g=0;g<p.length;g++)od(n,p[g]);d=this.a.request("l",f,I);qd(n,d,arguments);M(d,function(){U(e).$a(d,p,m)},this)}else if(w(a)||B(a)){var n=me(this,a),s=n.getName();if(n.keyPath&&r(c))throw new G("key must not be provided while the store uses in-line key.");if(!n.keyPath&&!n.b&&!r(c))throw new G("out-of-line key must be provided.");if(t(b)){for(var u=b,x=c,g=0;g<u.length;g++)od(n,u[g]);d=this.a.request("k",[s],I);qd(n,d,arguments);M(d,function(){U(this).V(d,!0,!1,s,
u,x)},this);n.$&&d.G(function(a){a=new Gc("updated",this.c(),s,a,u);this.c().H(a)},this)}else if(B(b)){var y=b,F=c;if(r(q.Blob)&&y instanceof Blob&&n.fa&&!n.keyPath&&0==n.a.length&&Ob)d=new K("j"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request("j",[s],I);qd(n,c,[s,y,F]);M(c,function(){U(e).V(c,!0,!0,s,[b],[F])},this);kb(c,function(a){d.o(a)},function(a){d.m(a)})},f.onerror=function(a){d.m(a)},f.onabort=function(a){d.m(a)},f.readAsDataURL(y);else{od(n,y);d=this.a.request("j",
[s],I);var D=[s,y,F];qd(n,d,D);M(d,function(){var a=r(F)?[D[2]]:void 0;U(e).V(d,!0,!0,s,[D[1]],a)},this)}n.$&&d.G(function(a){a=new Fc("updated",this.c(),s,a,y);this.c().H(a)},this)}else throw new G("put record value must be Object or array of Objects");}else throw new G("the first argument of put must be store name, store schema or array of keys.");return d};
function re(a,b,c){var d=a.f,e,f;if(w(b)){for(var g=S(a.b,b),h=0;h<c.length;h++)od(g,c[h]);e=[b]}else{f=b;e=[];for(var h=0,k=f.length;h<k;h++){var m=f[h].h(),g=S(a.b,m);-1==Sa(e,m)&&e.push(m);od(g,c[h])}}var p;w(b)?(g=S(a.b,b),p=d.request("k",e,I),M(p,function(){U(this).V(p,!0,!1,b,c,void 0)},a)):(p=d.request("l",e,I),M(p,function(){U(this).$a(p,c,f)},a));return p}function se(a,b,c){var d=a.f.request("n",[b],I);M(d,function(){U(this).bb(d,b,c||null)},a);return d}
l.clear=function(a,b){var c;if(w(a)){var d=S(this.b,a);if(!d)throw new G('store name "'+a+'" not found.');if(B(b)){var e=Mc(b);if(null===e)throw new G("clear method requires a valid non-null KeyRange object.");Yb("clearByKeyRange: "+a+":"+R(e));c=this.a.request("c",[a],I);qd(d,c,[a,e]);M(c,function(){U(this).qb(c,a,e)},this)}else{if(r(b))throw new G("clear method requires a valid KeyRange object as second argument, but found "+b+" of type "+typeof b);c=this.a.request("c",[a],I);M(c,function(){U(this).Na(c,
[a])},this)}}else if(!r(a)||t(a)&&w(a[0])){var f=a||yd(this.b);Yb("clearByStores: "+R(f));c=this.a.request("c",f,I);M(c,function(){U(this).Na(c,f)},this)}else throw new G('first argument "'+a+'" is invalid.');return c};
l.La=function(a,b,c){var d;if(w(a)){var e=S(this.b,a);if(!e)throw new G('store name "'+a+'" not found.');if(r(c))if(w(b)){var f=cd(e,b);if(!f)throw new G("index: "+b+" not found in "+a);if(B(c)||null===c){var g=Mc(c);Yb("removeByIndexKeyRange: "+a+":"+f.getName()+" "+a);d=this.a.request("p",[a],I);M(d,function(){U(this).Ab(d,a,f.getName(),g)},this)}else throw new G("key range "+c+' is invalid type "'+typeof c+'".');}else throw new G('index name "'+b+'" must be a string, but '+typeof b+" found.");
else if(w(b)||z(b)||v(b)||b instanceof Date){d=this.a.request("m",[a],I);var h=[a,b];qd(e,d,h);M(d,function(){U(this).ab(d,a,h[1])},this);e.$&&d.G(function(c){c=1==c?b:void 0;c=new Fc("deleted",this.c(),a,c,void 0);this.c().H(c)},this)}else if(B(b))g=Mc(b),Yb("removeByKeyRange: "+a+":"+R(g)),d=this.a.request("n",[a],I),qd(e,d,[a,g]),M(d,function(){U(this).bb(d,a,g)},this),e.$&&d.G(function(b){var c=[];c.length=b;b=new Gc("deleted",this.c(),a,c,void 0);this.c().H(b)},this);else throw new G('Invalid key or key range "'+
b+'" of type '+typeof b);}else if(a instanceof Hc){var k=a.h(),e=S(this.b,k);d=this.a.request("m",[k],I);var m=[k,a.id];qd(e,d,m);M(d,function(){U(this).ab(d,k,m[1])},this)}else if(t(a)){c=[];for(var e=0,p=a.length;e<p;e++){var n=a[e].h();-1==Sa(c,n)&&c.push(n)}if(1>c.length)throw new G('at least one valid key required in key list "'+sd(a)+'"');d=this.a.request("o",c,I);M(d,function(){U(this).Bb(d,a)},this)}else throw new G('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but "'+
sd(a)+'" ('+aa(a)+") found.");return d};function te(a,b,c,d){this.d=a;this.a=$a(c);this.c=d;this.b=[]}te.prototype.d=null;function ue(a,b,c){if(a.d)c&&a.b.push(c),b(a.d);else throw new tb("tx committed on ParallelTxExecutor");};function ve(a,b,c,d,e,f){be.call(this,a,b,c,d,e,f);this.d=this.b=null}C(ve,be);l=ve.prototype;l.logger=null;l.abort=function(){de(this.d)};
l.Lb=function(a,b){var c;if("multi"==this.g)a:if(c=this.b,!c.a||!c.c||b!=c.c&&(c.c!=I||b!=H)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if("repeat"==this.g)a:if(c=this.b,c.a&&c.c&&b==c.c&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c="all"==this.g?!0:!1;return c};
l.ca=function(a,b,c,d){function e(c){h.e++;k=new te(c,0,b,g);R(b);h.b=k;ue(h.b,a,d)}function f(a,b){if(k){for(var c=k,d=0;d<c.b.length;d++)c.b[d](a,b);c.b.length=0;c.d=null;c.a=null;c.b=null}h.a=0}this.w&&(b=this.w);this.t&&(c=this.t);var g=r(c)?c:H,h=this,k;if(this.b&&this.b.d&&this.Lb(b,g))ue(this.b,a,d);else{if(this.j&&this.e>=this.j)throw new sb("Exceed maximum number of transactions of "+this.j);this.c().transaction(e,b,g,f)}};
l.request=function(a,b,c,d){var e=new K(a),f=this;this.ca(function(a){f.a++;qc(e,a,f.R()+"R"+f.a)},b,c||H,function(a,b){e.a=null;d&&d(a,b)});return e};l.Q=function(a,b,c,d,e){var f=this,g;this.ca(function(c){f.a++;g=f.R()+"R"+f.a;b(c,g,function(b,d){f.d=c;g=f.R()+"R"+f.a;d?a.m(b):a.o(b);f.d=null});b=null},c,d,e)};function we(a,b){ve.call(this,a,b,ce)}C(we,ve);we.prototype.logger=null;we.prototype.Lb=function(){return!1};we.prototype.request=function(a,b,c){var d,e,f,g=we.s.request.call(this,a,b,c,function(a,b){g.a=null;if(d)"complete"!=a&&(f=!0,e=b),d(e,f);else{var c=new Yd;L(g,c,!0)}});tc(g,function(a,b,c){f=b;e=a;d=c});return g};
we.prototype.Q=function(a,b,c,d,e){var f,g,h=new E;kb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});we.s.Q.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.m(c);else if(!0===g)a.m(f);else if(!1===g)a.o(f);else{var d=new Yd;a.m(d)}e&&(e(b,c),e=void 0)})};function W(a,b,c){T.call(this,a,b,c);this.ia=0;a=!0;b=ce;c&&(r(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=xe(this,b,a);this.i=xe(this,"atomic",!1);this.a=this.ha(c,this.i)}C(W,T);l=W.prototype;l.ia=0;l.Mb=function(a,b,c,d,e,f){a=a||ce;var g;"readonly"==d?g=H:"readwrite"==d&&(g=I);a=xe(this,a,b,c,g,e);return this.ha(a,f?null:this.i)};l.ha=function(a,b){return new ie(this,this.b,a,b)};
function xe(a,b,c,d,e,f){if(c){if("multi"==b||"repeat"==b||"all"==b||b==ce)return new ee(a,a.ia++,b,d,e,f);if("atomic"==b)return new he(a,a.ia++);throw new G('Invalid requestType "'+b+'"');}if("multi"==b||"repeat"==b||"all"==b||b==ce)return new ve(a,a.ia++,b,d,e,f);if("atomic"==b)return new we(a,a.ia++);throw new G('Invalid requestType "'+b+'"');}
l.Tb=function(a,b,c){this.ia++;b=b||yd(this.b);var d=H;if(c)if("readwrite"==c)d=I;else if("readonly"!=c)throw new G('Invalid transaction mode "'+c+'"');var e=xe(this,"all",!1,b,d,1),f=this.ha(e,this.i),g=new K("q");e.ca(function(b){qc(g,b,e.R()+"R0");a(f)},b,d,function(a){g.a=null;L(g,e.e,"complete"!==a)});return g};l.hc=function(){return this.a?this.a.a.e:NaN};function X(a,b,c){W.call(this,a,b,c);a=this.b;for(b=0;b<a.c.length;b++){c=a.c[b];var d=S(a,c.getName());if(d){if(!hd(d,"k"))throw new G('full text index store "'+d.getName()+'" must have "keyword" index');if(!hd(d,"v"))throw new G('full text index store "'+d.getName()+'" must have "keyword" index');if("id"!=d.keyPath)throw new G('full text index store "'+d.getName()+'" must use "id" as key path.');}else throw new G('full text index store "'+c.getName()+'" required.');for(d=0;d<c.count();d++){var e=
c.index(d),f=S(a,e.h());if(f)this.nb(f,c);else throw new G('full text source store "'+e.h()+'" does not exist for full text index "'+c.getName()+'"');}}}C(X,W);l=X.prototype;l.ha=function(a,b){return new V(this,this.b,a,b)};l.add=function(a,b,c){return this.a.add(a,b,c)};l.count=function(a,b,c,d){return this.a.count(a,b,c,d)};l.get=function(a,b){return this.a.get(a,b)};l.keys=function(a,b,c,d,e,f,g){return this.a.keys(a,b,c,d,e,f,g)};l.D=function(a,b,c,d,e,f){return this.a.D(a,b,c,d,e,f)};
l.load=function(a,b,c){return this.a.load(a,b,c)};l.put=function(a,b,c){return this.a.put(a,b,c)};l.clear=function(a,b,c){return this.a.clear(a,b,c)};l.La=function(a,b,c){return this.a.La(a,b,c)};W.prototype.branch=W.prototype.Mb;W.prototype.getTxNo=W.prototype.hc;ie.prototype.getTxNo=ie.prototype.g;W.prototype.run=W.prototype.Tb;X.prototype.branch=X.prototype.Mb;X.prototype.add=X.prototype.add;X.prototype.get=X.prototype.get;X.prototype.keys=X.prototype.keys;X.prototype.values=X.prototype.D;X.prototype.put=X.prototype.put;X.prototype.clear=X.prototype.clear;X.prototype.remove=X.prototype.La;X.prototype.count=X.prototype.count;V.prototype.add=V.prototype.add;V.prototype.get=V.prototype.get;V.prototype.keys=V.prototype.keys;V.prototype.values=V.prototype.D;V.prototype.put=V.prototype.put;V.prototype.clear=V.prototype.clear;
V.prototype.remove=V.prototype.La;V.prototype.count=V.prototype.count;ja("ydn.db.Key",Hc);Hc.prototype.id=Hc.prototype.Zb;Hc.prototype.parent=Hc.prototype.$b;Hc.prototype.storeName=Hc.prototype.h;ja("ydn.db.KeyRange",Q);Q.upperBound=Q.upperBound;Q.lowerBound=Q.lowerBound;Q.bound=Q.bound;Q.only=Q.only;Q.starts=Nc;Bc.prototype.store_name=Bc.prototype.b;Bc.prototype.getStoreName=Bc.prototype.h;Fc.prototype.name=Fc.prototype.name;Fc.prototype.getKey=Fc.prototype.c;Fc.prototype.getValue=Fc.prototype.u;
Gc.prototype.name=Gc.prototype.name;Gc.prototype.getKeys=Gc.prototype.na;Gc.prototype.getValues=Gc.prototype.Va;function ye(a,b,c,d,e){if(!(b instanceof Q))if(w(b)&&r(c))b=Rc(b,c,d,e);else if(null!=b){if(!(b instanceof Q))if(B(b))b=new Q(b.lower,b.upper,b.lowerOpen,b.upperOpen);else throw new G("Invalid key range: "+b+" of type "+typeof b);}else b=null;this.a=b;this.aa=a}ye.prototype.aa="";ye.prototype.Z=function(a){if(this.aa!=a.aa)return null;a=null!=this.a&&null!=a.a?this.a.Z(a.a):this.a||a.a;return new ye(this.aa,a)};function ze(a,b,c,d){xc.call(this);this.a=c;this.b=c.getName();this.j=void 0;this.g=!1;this.ea=null;this.e=a;this.pa=0;this.t=this.l=!1;this.W=d||4;this.ja=this.i=this.d=void 0;this.q=function(){throw new tb;};this.w=function(){throw new tb;};this.Fb=function(){}}C(ze,xc);l=ze.prototype;
l.kb=function(a,b,c,d,e){r(b)&&(a=this.a,this.j=(t(b)?gd(a,b):cd(a,b)).getName());this.g=w(this.j);this.ea=c||null;this.pa=0;this.t=this.l=!1;this.reverse="prev"==d||"prevunique"==d;this.unique="nextunique"==d||"prevunique"==d;this.N=d;this.Ca=e;this.ja=this.i=this.d=void 0};l.N="";l.ea=null;l.unique=!1;l.reverse=!1;l.Ca=!0;l.logger=null;function Ae(a,b){a.w(b);Be(a);a.l=!0}l.P=function(a,b,c){null==a&&(this.l=!0);this.d=a;this.i=b;this.ja=c;this.pa++;this.l?(this.q(),Be(this)):this.q(this.d)};
l.U=function(){this.e=null};function Be(a){null!=a.i?a.i=Kc(a.i):a.i=void 0;null!=a.d?a.d=Kc(a.d):a.d=void 0;a.Fb(a.t,a.d,a.i)}l.open=function(a,b,c,d){this.e=a;this.l=this.t=!1;this.d=c;this.i=d;this.openCursor(this.d,this.i)};function Ce(a){a.t=!0;Be(a)}l.sb=function(){return this.pa};l.fc=function(){return this.d};l.p=function(){return this.g?this.i:this.d};l.u=function(){return this.Ca?this.p():this.ja};l.Ka=function(){};l.ma=function(){};function De(){};function Y(a,b,c,d,e,f,g){this.e=a;this.c=b;this.f=g;this.j=!!this.c;this.a=r(f)?f:!!w(this.c);a="next";d&&e?a="prevunique":d?a="prev":e&&(a="nextunique");this.i=a;this.b=Mc(c);this.d=Ee;this.q=NaN}C(Y,De);Y.prototype.a=!0;function Fe(a,b,c){if(3<arguments.length)throw new G("too many argument");Y.call(this,a,void 0,b,c,void 0,!0)}C(Fe,Y);function Ge(a,b,c,d,e){if(!w(b))throw new G("index name must be string");Y.call(this,a,b,c,d,e,!0)}C(Ge,Y);
function He(a,b,c){if(3<arguments.length)throw new G("too many argument");Y.call(this,a,void 0,b,c,void 0,!1)}C(He,Y);function Ie(a,b,c,d,e){if(!w(b))throw new G("index name must be string");Y.call(this,a,b,c,d,e,!1)}C(Ie,Y);var Ee="init";l=Y.prototype;l.logger=null;l.h=function(){return this.e};l.Wb=function(){return this.c};l.Gb=function(){return this.b?this.b instanceof Oc?this.b:Oc.bound(this.b.lower,this.b.upper,this.b.lowerOpen,this.b.upperOpen):null};l.Yb=function(){return this.a};l.Rb=function(){return this.j};
l.B=function(){var a=new Y(this.e,this.c,this.b,this.X(),this.la(),this.a,this.f);a.q=this.q;return a};l.unique=function(a){return new Y(this.e,this.c,this.b,this.X(),a,this.a,this.f)};l.Hb=function(a,b){var c=new Y(this.e,this.c,this.b,this.X(),this.la(),this.a,this.f);c.g=a;c.l=b;c.d="rest";return c};l.reverse=function(){return new Y(this.e,this.c,this.b,!this.X(),this.la(),this.a,this.f)};l.X=function(){return"prev"===this.i||"prevunique"===this.i};
l.la=function(){return"nextunique"===this.i||"prevunique"===this.i};l.Qb=function(){return this.d};l.load=function(a){a=a[0];a.kb(this.e,this.f||this.c,this.b,this.i,this.a);this.d="busy";var b=this;a.Fb=function(a,d,e){b.g=d;b.l=e;b.d=a?"rest":"done"};a.openCursor(this.g,this.l);return a};l.Xb=function(){return this.g};l.p=function(){return this.l};l.cb=function(a,b,c){a=a||Ee;"busy"!=this.d&&(this.g=b,this.l=c,this.d=a)};l.stores=function(){return[this.e]};function Je(a,b,c,d){if("transaction"in a)this.g=a,this.d=this.f=null;else if("objectStore"in a)this.g=null,this.f=a.db,this.d=a;else throw new Ed("storage instance require.");this.i=b;this.j=c;this.l=d;this.b=[];this.a=0;this.c=!1}Je.prototype.logger=null;Je.prototype.c=!1;
function Ke(a,b){a.a++;b.onsuccess=function(b){if(b=b.target.result){if(A(a.l)){var d=b.value;a.l(b.primaryKey,null!=a.j?d[a.j]:d)}if(b&&0<a.b.length)b["continue"](a.b.shift());else a.a--,0==a.a&&a.S&&a.S()}};b.onerror=function(){a.a--;0==a.a&&a.S&&a.S()}}function Le(a,b){0==a.b.length&&0==a.a?b():a.S=b}
function Me(a){if(!a.c){var b=function(){a.d=null},c=function(b){var c=a.b.shift();b=b.objectStore(a.i);Ke(a,b.openCursor(c))};if(a.d)c(a.d);else if(a.f)a.e=a.f.transaction([a.i],H),a.e.oncomplete=function(){b()},a.e.onerror=function(){b()},a.e.onabort=function(){b()};else if(a.g)a.c=!0,a.g.transaction(function(b){a.c=!1;c(b)},[a.i],H,b);else throw new Hd("");}};function Ne(a,b,c){a&&a instanceof T?this.ta=a:a&&a.db&&(this.ta=null,Oe(this,a));if(!w(b))throw new G("a store name required.");this.c=b;if(r(c)&&!w(c))throw new G("projection index name must be a string.");this.Ga=c;this.da=null;this.b=[];this.a=[];this.oa=!1}l=Ne.prototype;l.logger=null;l.ta=null;l.fb=null;l.da=null;l.Vb=function(a){this.fb=a};function Oe(a,b){if(b.db)a.da=new Je(b,a.c,a.Ga,ga(a.S,a));else throw new G("Invalid IndexedDB Transaction.");}
function Pe(a){var b=0<a.a.length;if(b&&!a.oa&&A(a.fb)){var c=function(){Pe(a)},d=a.b.shift(),e=a.a.shift(),b=0<a.a.length,c=a.fb(d,e,b?c:null);b&&!c&&Pe(a)}}l.oa=!1;l.dc=function(a){if(this.da){this.oa=!0;var b=this;Le(this.da,function(){a(b.b,b.a);b.b=[];b.a=[];b.oa=!1})}else a(this.b,this.a),this.b=[],this.a=[]};l.S=function(a,b){this.b.push(a);this.a.push(b);Pe(this)};
l.push=function(a,b){if(this.oa)throw new Kd("");if(2<=arguments.length)this.S(a,b);else{if(!this.da){if(!this.ta)throw new Kd("Database connection is not setup.");var c=this.ta.Ia();if(c)if("indexeddb"===c)this.da=new Je(this.ta,this.c,this.Ga,ga(this.S,this));else throw new Gd(c);else throw new Kd("Database is not connected.");}c=this.da;c.b.push(a);Me(c)}};l.h=function(){return this.c};function Qe(a,b){this.a=a||null;this.g=b;this.e=0;this.b=!1;this.d=a instanceof Ne&&!!a.Ga}Qe.prototype.logger=null;Qe.prototype.f=function(a,b){var c;this.b=b[0].X();this.a instanceof Ne&&Oe(this.a,a);if(this.d&&(c=b[0],(c=c.f||c.c)&&1<c.length&&c[c.length-1]!=this.a.Ga))throw new Kd("Output streamer projection field must be same as postfix field in the iterator");for(c=0;c<b.length;c++);return!1};
function Re(a,b,c){var d,e=null!=d;if(!r(d)){d=c[0];for(var e=null!=d,f=1;e&&f<c.length;f++)null!=c[f]&&0==N(c[f],d)||(e=!1)}return e&&(a.e++,a.a&&(a.d?a.a.push(d,void 0):a.a.push(d)),r(a.g)&&a.e>=a.g)?[]:b}Qe.prototype.c=function(){return[]};function Z(a,b,c,d){ie.call(this,a,b,c,d)}C(Z,V);l=Z.prototype;l.logger=null;l.get=function(a,b){if(a instanceof Y){var c=a.h(),d=S(this.b,c);if(!d)throw new G('store "'+c+'" not found.');var e=a.c;if(r(e)&&!hd(d,e))throw new G('index "'+e+'" not found in store "'+c+'".');var f=this.a.request("f",[c]);M(f,function(){Se(this,5,f,a,1)},this);return f}return Z.s.get.call(this,a,b)};
l.keys=function(a,b,c,d,e,f,g){if(a instanceof Y){var h=100;if(z(b)){if(h=b,1>h)throw new G("limit must be a positive value, but "+b);}else if(r(b))throw new G("limit must be a number,  but "+b);if(r(c))throw new G("offset must not be specified");var k=this.a.request("h",[a.h()]);M(k,function(){a.j?Se(this,1,k,a,h):Se(this,2,k,a,h)},this);return k}return Z.s.keys.call(this,a,b,c,d,e,f,g)};
l.count=function(a,b,c,d){if(a instanceof Y){if(r(b)||r(c))throw new G("too many arguments.");var e=this.a.request("d",[a.h()]);M(e,function(){Se(this,6,e,a)},this);return e}return Z.s.count.call(this,a,b,c,d)};
l.D=function(a,b,c,d,e,f){if(a instanceof Y){var g;if(z(b)){if(g=b,1>g)throw new G("limit must be a positive value, but "+g);}else if(r(b))throw new G("limit must be a number, but "+b);if(r(c))throw new G("offset must not be specified");var h=this.a.request("t",[a.h()]);M(h,function(){a.a?Se(this,2,h,a,g):Se(this,4,h,a,g)},this);return h}return Z.s.D.call(this,a,b,c,d,e,f)};
l.jb=function(a,b,c){var d;c=c||H;var e=[];for(d=0;d<b.length;d++)for(var f=b[d].stores(),g=0;g<f.length;g++)0<=Sa(e,f[g])||e.push(f[g]);var h=this;d=this.a.request("qa",e);this.a.Q(d,function(c,d,e){function f(){for(var a=0,e=0;e<b.length;e++){var n=b[e],p=[U(h).b(c,d,n.h())],n=n.load(p);n.w=g;n.q=ha(u,a);O[e]=n;F[a]=e;a++}y=b.length}function g(a){for(var b=0;b<O.length;b++)Ce(O[b]);Za(O);e(a,!0)}function u(c,d){if(x)throw new Hd;P++;var f=P===y,g=F[c],h=b[g],k=O[g],g=k.p(),k=k.u();D[c]=d;J[c]=h.j?
h.a?g:k:h.a?d:k;if(f){var m;a instanceof Qe?m=a.c(D,J):m=a(D,J);f=[];h=[];g=[];k=[];if(t(m))for(var n=0;n<m.length;n++)!0===m[n]?g[n]=1:!1===m[n]?k[n]=!0:h[n]=m[n];else if(null===m)f=[];else if(r(m))if(B(m))f=m.continuePrimary||[],h=m["continue"]||[],g=m.advance||[],k=m.restart||[];else throw new sb("scan callback output");else for(f=[],n=0;n<b.length;n++)r(F[n])&&(g[n]=1);for(n=P=m=0;n<b.length;n++)null!=f[n]||r(h[n])||null!=k[n]||null!=g[n]||P++;for(n=0;n<b.length;n++)if(null!=f[n]||r(h[n])||null!=
k[n]||null!=g[n]){var s=F[n];if(!r(s))throw new Jd(n+" is not an iterator.");var s=b[s],u=O[n];D[n]=void 0;J[n]=void 0;if(null!=k[n])s=u,s.l=!1,s.t=!1,s.openCursor(void 0,void 0);else if(r(h[n]))u.ma(h[n]);else if(null!=f[n])u.Ka(f[n]);else if(null!=g[n])u.advance(1);else throw new Hd(s+": has no action");m++}if(0==m){for(m=0;m<O.length;m++)Ce(O[m]);x=!0;Za(O);e(void 0)}}}var x=!1,y,F=[],D=[],J=[],O=[],P=0;a instanceof Qe?a.f(c,b,function(){f()})||f():f()},e,c);return d};
l.open=function(a,b,c,d){c=c||H;var e=this,f=this.a.request("i5",b.stores(),c);M(f,function(c){for(var h=uc(f),k=b.stores(),m=[],p=0;p<k.length;p++)m[p]=U(e).b(c,h,k[p]);var n=b.load(m);n.w=function(a){L(f,a,!0)};n.q=function(b){if(null!=b){var c=a.call(d,n);!0===c?(n.l=!1,n.t=!1,n.openCursor(void 0,void 0)):B(c)?!0===c.restart?(b=c["continue"],c=c.continuePrimary,n.l=!1,n.t=!1,n.openCursor(c,b)):null!=c["continue"]?n.ma(c["continue"]):null!=c.continuePrimary?n.Ka(c.continuePrimary):(Ce(n),L(f,void 0)):
null===c?(Ce(n),L(f,void 0)):null!=c?n.ma(c):n.advance(1)}else Ce(n),L(f,void 0)}},this);return f};l.map=function(a,b){for(var c=this,d=a.stores(),e,f=0;e=d[f];f++)if(!e)throw new G('Store "'+e+'" not found.');e=this.a.request("i4",d);this.a.Q(e,function(d,e,f){for(var m=a.stores(),p=[],n=0;n<m.length;n++)p[n]=U(c).b(d,e,m[n]);var s=a.load(p);s.w=function(a){f(a,!1)};s.q=function(c){if(null!=c){var d;a.j?a.a?d=c:d=s.p():a.a?d=c:d=s.u();b(d);s.advance(1)}else f(void 0),b=null}},d,H);return e};
l.reduce=function(a,b,c){for(var d=this,e=a.stores(),f,g=0;f=e[g];g++)if(!f)throw new G('Store "'+f+'" not found.');f=this.a.request("m0",e);var h=B(c)?rd(R(c)):c;this.a.Q(f,function(c,e,f){for(var g=a.stores(),s=[],u=0;u<g.length;u++)s[u]=U(d).b(c,e,g[u]);var x=a.load(s);x.w=function(a){f(a,!0)};var y=0;x.q=function(c){if(null!=c){var d;a.j?a.a?d=c:d=x.p():a.a?d=c:d=x.u();h=b(h,d,y++);x.advance(1)}else f(h)}},e,H);return f};
function Te(a,b,c,d){var e=c.h(),f=c.c||null,g=d||100,h=a.a.request("u",[e]),k="done"==c.d||c.d==Ee?[]:[c.g,c.p()];M(h,function(){U(this).O(h,b,e,f,c.Gb(),g,0,c.X(),c.la(),k)},a);h.G(function(){null!=k[0]?c.cb("rest",k[0],k[1]):c.cb()});return h}
function Se(a,b,c,d,e){var f=[],g=c.a,h=uc(c);a=U(a);for(var k=[],m=d.stores(),p=0;p<m.length;p++)k[p]=a.b(g,h,m[p]);var n=d.load(k);n.w=function(a){Ce(n);L(c,a,!0)};var s=0,u=!1;n.q=function(a){u||(u=!0);null!=a?(n.p(),s++,1==b?f.push(a):2==b?f.push(n.p()):3==b?f.push([a,n.p()]):6!=b&&f.push(n.u()),5==b?(Ce(n),L(c,f[0])):6==b||!r(e)||s<e?n.ma():(Ce(n),L(c,f))):(Ce(n),L(c,5==b?f[0]:6==b?s:f))}};function Ue(a,b,c){X.call(this,a,b,c)}C(Ue,X);l=Ue.prototype;l.ha=function(a,b){return new Z(this,this.b,a,b)};l.open=function(a,b,c,d){return this.a.open(a,b,c,d)};l.ec=function(a,b){return this.a.jb(a,b)};l.map=function(a,b){return this.a.map(a,b)};l.reduce=function(a,b,c){return this.a.reduce(a,b,c)};function Ve(a){if(!w(a))throw new Ed;this.M=a;this.c=I;this.b=[];We(this,a);this.sa=""}l=Ve.prototype;l.M="";l.ub=NaN;l.xb=NaN;l.eb=!1;l.sa="";
function We(a,b){var c=b.split(/\sFROM\s/i);if(2==c.length){var d=c[1],c=c[0].match(/\s*?(SELECT|INSERT|UPDATE|DELETE)\s+(.*)/i);if(3==c.length){a.d=c[1].toUpperCase();if("SELECT"==a.d)a.c=H;else if("INSERT"==a.d)a.c=I;else if("UPDATE"==a.d)a.c=I;else if("DELETE"==a.d)a.c=I;else return;var c=c[2].trim(),e=c.match(/^(MIN|MAX|COUNT|AVG|SUM)/i);e?(a.e=e[0].toUpperCase(),c=c.replace(/^(MIN|MAX|COUNT|AVG|SUM)/i,"").trim()):a.e=void 0;"("==c.charAt(0)&&(")"==c.charAt(c.length-1)?c=c.substring(1,c.length-
1):new Xd("missing closing parentheses"));a.j=c;c=d.search(/(ORDER BY|LIMIT|OFFSET)/i);0<c?(a.a=d.substring(c),d=d.substring(0,c)):a.a="";c=d.search(/WHERE/i);0<c?(a.f=d.substring(c+6).trim(),d=d.substring(0,c)):a.f="";a.b=d.trim().split(",").map(function(a){a=na(a,'"');a=na(a,"'");return a.trim()})}}}function Xe(a){if("*"==a.j)return null;a=a.j.split(",");return a=a.map(function(a){return na(a.trim(),'"')})}l.toJSON=function(){return{sql:this.M}};
function Ye(a){function b(a){return Ya(c,function(b){return b.aa==a})}var c=[],d=/(.+?)(<=|>=|=|>|<)(.+)/i;if(0<a.f.length)for(var e=a.f.split("AND"),f=0;f<e.length;f++){var g=e[f],h=d.exec(g);if(h){var k=h[1].trim(),k=na(k,'"'),k=na(k,"'");if(0<k.length){var m=h[3].trim();0==m.lastIndexOf('"',0)?m=na(m,'"'):0==m.lastIndexOf("'",0)?m=na(m,"'"):m=parseFloat(m);h=new ye(k,h[2],m);k=b(k);if(0<=k){if(c[k]=c[k].Z(h),!c[k])return a.sa='where clause "'+g+'" conflict',null}else c.push(h)}else return a.sa=
'Invalid clause "'+g+'"',null}else return a.sa='Invalid clause "'+g+'"',null}return c}l.toString=function(){return Ve.s.toString.call(this)};function Ze(a,b,c,d){ze.call(this,a,0,c,d);this.c=null}C(Ze,ze);l=Ze.prototype;l.logger=null;l.ya=function(a){(a=a.target.result)?this.P(a.key,a.primaryKey,a.value):this.P()};
l.openCursor=function(a,b){function c(a,b,c){n.c=p;n.c.onsuccess=ga(n.ya,n);n.P(a,n.g?b:void 0,c);p=null}var d=this.ea,e=this.e.objectStore(this.b),f=w(this.j)?e.index(this.j):null;if(r(a))var g=f?!r(b):!0,h=d?d.lower:void 0,k=d?d.upper:void 0,m=d?!!d.lowerOpen:!1,d=d?!!d.upperOpen:!1,d=Lc(this.reverse?new Q(h,a,m,g):new Q(a,k,g,d));var p;this.Ca?f?p=null!=this.N?f.openKeyCursor(d,this.N):null!=d?f.openKeyCursor(d):f.openKeyCursor():p=null!=this.N?e.openCursor(d,this.N):null!=d?e.openCursor(d):e.openCursor():
f?p=null!=this.N?f.openCursor(d,this.N):null!=d?f.openCursor(d):f.openCursor():p=null!=this.N?e.openCursor(d,this.N):null!=d?e.openCursor(d):e.openCursor();var n=this;p.onerror=function(a){var b=p.error;a.preventDefault();Ae(n,b)};null!=a?p.onsuccess=function(d){if(d=d.target.result){var e=dc.cmp(d.key,a),f=n.reverse?-1:1;if(e==f)c(d.key,d.primaryKey,d.value);else if(e==-f)d["continue"](a);else if(null!=b)if(dc.cmp(d.primaryKey,b)==f)c(d.key,d.primaryKey,d.value);else d["continue"]();else d["continue"]()}else c()}:
(n.c=p,n.c.onsuccess=ga(n.ya,n))};l.Wa=function(){return!!this.c};l.update=function(a){var b=this.c.result;if(b){var c=new E;a=b.update(a);a.onsuccess=function(a){c.o(a.target.result)};a.onerror=function(a){a.preventDefault();c.m(a)};return c}throw new Td("cursor gone");};l.clear=function(){var a=this.c.result;if(a){var b=new E,a=a["delete"]();a.onsuccess=function(){b.o(1)};a.onerror=function(a){a.preventDefault();b.m(a)};return b}throw new Td("cursor gone");};
l.advance=function(a){var b=this.c.result;if(1==a)b["continue"]();else b.advance(a)};l.Ka=function(a){var b,c=this.c.result,d=this;this.c.onsuccess=function(e){if(c=e.target.result)if(b=dc.cmp(c.primaryKey,a),0==b||1==b&&!d.reverse||-1==b&&d.reverse)d.c.onsuccess=ga(d.ya,d),d.P(c.key,d.g?c.primaryKey:void 0,c.value);else c["continue"]();else d.c.onsuccess=ga(d.ya,d),d.P()};c["continue"]()};l.ma=function(a){var b=this.c.result;if(null!=a)b["continue"](a);else b["continue"]()};
l.U=function(){Ze.s.U.call(this);this.c=null};function $e(a,b){this.a=b}C($e,Zd);l=$e.prototype;l.logger=null;l.Oa=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?L(a,d):c(e)};f.onerror=function(b){b.preventDefault();L(a,f.error,!0)}}var d=[];0==b.length?L(a,[]):c(0)};
l.V=function(a,b,c,d,e,f){function g(d){if(null==e[d])if(k++,k==e.length)L(a,h,m);else{var s=d+10;s<e.length&&g(s)}var u,s=e[d];u=f&&null!=f[d]?b?p.put(s,f[d]):p.add(s,f[d]):b?p.put(s):p.add(s);u.onsuccess=function(b){k++;h[d]=b.target.result;k==e.length?L(a,c?h[0]:h,m):(b=d+10,b<e.length&&g(b))};u.onerror=function(b){k++;var f=u.error;sd(e[d]);h[d]=f;m=!0;b.preventDefault();k==e.length?L(a,c?h[0]:h,m):(b=d+10,b<e.length&&g(b))}}var h=[],k=0,m=!1,p=a.a.objectStore(d);if(0<e.length)for(d=0;10>d&&d<
e.length;d++)g(d);else L(a,[])};l.$a=function(a,b,c){function d(h){var m=c[h],p=m.h(),p=a.a.objectStore(p),n;n=null===p.keyPath?p.put(b[h],m.id):p.put(b[h]);n.onsuccess=function(c){f++;e[h]=c.target.result;f==b.length?L(a,e,g):(c=h+10,c<b.length&&d(c))};n.onerror=function(c){f++;e[h]=n.error;g=!0;c.preventDefault();f==b.length?L(a,e,g):(c=h+10,c<b.length&&d(c))}}var e=[],f=0,g=!1;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)d(h);else L(a,e,g)};
l.zb=function(a,b,c,d,e,f){function g(){var a={},b=e.indexOf("\n",m),d=!1,y;-1==b?(d=!0,y=e.substring(m)):(y=e.substring(m,b),m=b+1);b=y.split(f);for(y=0;y<p.length;y++){var F=b[y];n[y]&&(n[y]==Uc?F=na(F,'"'):"INTEGER"==n[y]?F=parseInt(F,10):"NUMERIC"==n[y]&&(F=parseFloat(F)));a[p[y]]=F}var D=h.put(a);D.onsuccess=function(a){k.push(a.target.result);d?c(k):g()};D.onerror=function(a){a.preventDefault();c(D.error,!0)}}b=S(this.a,d);var h=a.objectStore(d),k=[],m=e.indexOf("\n"),p=e.substr(0,m).split(f),
n=[];for(a=0;a<p.length;a++)(d=cd(b,p[a]))?n[a]=d.type:p[a]==b.keyPath&&(n[a]=b.type);m++;g()};l.ab=function(a,b,c){var d=a.a.objectStore(b).openCursor(Oc.only(c));d.onsuccess=function(b){if(b=b.target.result){var c=b["delete"]();c.onsuccess=function(){L(a,1)};c.onerror=function(){L(a,c.error,!0)}}else L(a,0)};d.onerror=function(b){b.preventDefault();L(a,d.error,!0)}};
l.Bb=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?L(a,g,!0):L(a,d);else{b[h].h()!=e&&(e=b[h].h(),f=a.a.objectStore(e));var k=f["delete"](b[h].id);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f,g=[];c(-1)};
l.bb=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);e.onsuccess=function(b){var e=b.target.result,h=d["delete"](c);h.onsuccess=function(){L(a,e)};h.onerror=function(){L(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}};l.qb=function(a,b,c){var d=a.a.objectStore(b)["delete"](c);d.onsuccess=function(){L(a,void 0)};d.onerror=function(b){b.preventDefault();L(a,d.error,!0)}};
l.Ab=function(a,b,c,d){var e=[],f=a.a.objectStore(b).index(c).openCursor(d),g=0;f.onsuccess=function(b){var c=b.target.result;if(c){var d=c["delete"]();d.onsuccess=function(){g++;c["continue"]()};d.onerror=function(a){e.push(d.error);a.preventDefault();c["continue"]()}}else 0<e.length?L(a,e,!0):L(a,g)};f.onerror=function(b){b.preventDefault();L(a,f.error,!0)}};
l.Na=function(a,b){for(var c=b.length,d=0,e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&L(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&L(a,f.error,!0)}}};
l.Ta=function(a,b,c){var d=a.a.objectStore(b),e=d.get(c);e.onsuccess=function(b){var c=b.target.result;if(!d.keyPath&&0==d.indexNames.length&&Ob&&w(c)&&0<=c.indexOf(";base64,")){'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));c=c.split(";base64,");b=c[0].split(":")[1];for(var c=window.atob(c[1]),e=c.length,k=new Uint8Array(e),m=0;m<e;++m)k[m]=c.charCodeAt(m);L(a,new Blob([k.buffer],{type:b}))}else L(a,b.target.result)};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}};
l.vb=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)L(a,e);else{var m=b+10;m<h&&d(m)}var p;p=g.get(c[b]);p.onsuccess=function(c){f++;e[b]=c.target.result;f==h?L(a,e):(c=b+10,c<h&&d(c))};p.onerror=function(b){f++;b.preventDefault();L(a,p.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;if(0<h)for(b=0;10>b&&b<h;b++)d(b);else L(a,[])};
l.wb=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.h()).get(h.id);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?L(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();L(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else L(a,[])};
l.xa=function(a,b,c,d){b=a.a.objectStore(b);c&&R(c);var e;null!=d?(d=b.index(d),e=null!=c?d.count(c):d.count()):e=null!=c?b.count(c):b.count();e.onsuccess=function(b){L(a,b.target.result)};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}};
l.O=function(a,b,c,d,e,f,g,h,k,m){var p=[],n=a.a.objectStore(c),s=h?k?"prevunique":"prev":k?"nextunique":"next";c=uc(a)+" "+b+" "+c+(d?":"+d:"")+(e?R(e):"");h&&(c+=" reverse");k&&(c+=" unique");if(m&&r(m[0])){k=d?!r(m[1]):!0;var u=m[0],x=e?e.lower:void 0,y=e?e.upper:void 0,F=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=Lc(h?new Q(x,u,F,k):new Q(u,y,k,e));c+=" starting from "+R(m[0]);r(m[1])&&(c+=", "+R(m[1]))}var D;D=1==b||2==b||3==b?d?n.index(d).openKeyCursor(e,s):n.openCursor(e,s):d?n.index(d).openCursor(e,
s):n.openCursor(e,s);var J=!1;D.onsuccess=function(c){if(c=c.target.result){if(!J){if(0<g){J=!0;c.advance(g);return}if(m&&d&&r(m[0]))if(r(m[1])){var e=dc.cmp(c.key,m[0]),k=h?-1:1;if(0==e){e=dc.cmp(c.primaryKey,m[1]);if(0==e){J=!0;c["continue"]();return}if(e==k)J=!0;else{c["continue"]();return}}else J=!0}else J=!0;else J=!0}1==b?p.push(c.key):2==b?p.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),n.keyPath?k[n.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,p.push(k)):4==b?p.push(c.value):p.push([c.key,
c.primaryKey,c.value]);if(p.length<f)c["continue"]();else m&&(m[0]=Kc(c.key),m[1]=Kc(c.primaryKey)),L(a,p)}else m&&(m[0]=void 0,m[1]=void 0),L(a,p)};D.onerror=function(b){b.preventDefault();L(a,D.error,!0)}};function af(a,b){this.a=b}C(af,$e);af.prototype.logger=null;af.prototype.b=function(a,b,c,d){b=S(this.a,c);return new Ze(a,0,b,d)};function bf(a,b){this.a=b;this.c=a}bf.prototype.logger=null;bf.prototype.toJSON=function(){return{sql:this.a}};bf.prototype.toString=function(){return"idb.Node:"};
bf.prototype.b=function(a,b){var c=$a(this.a.b)[0],d=this.a.g,e=this.a.ub,e=isNaN(e)?100:e,f=this.a.xb,f=isNaN(f)?0:f,g=this.a.i,h=Xe(this.a),k=null,m=this.a.eb;if(0==d.length)k=null;else if(1==d.length)k=Mc(d[0].a);else throw new pb("too many conditions.");null===h||tc(a,function(a,b,c){var d=a;b||(d=a.map(function(a){var b=h.length;if(1==b)return ec(a,h[0]);for(var c={},d=0;d<b;d++)c[h[d]]=ec(a,h[d]);return c}));c(d,b)});d=0<d.length?d[0].aa:void 0;g&&g!=this.c.keyPath?b.O(a,4,c,g,k,e,f,m,!1):r(d)&&
d!=this.c.keyPath?b.O(a,4,c,d,k,e,f,m,!1):b.O(a,4,c,null,k,e,f,m,!1)};function cf(a,b){bf.call(this,a,b)}C(cf,bf);
cf.prototype.b=function(a,b){var c,d=$a(this.a.b)[0],e=this.a.g,f=null;if(0==e.length)f=null;else if(1==e.length)f=Mc(e[0].a);else throw new pb("too many conditions.");var g=this.a.e,e=0<e.length?e[0].aa:void 0;if("COUNT"==g)f?b.xa(a,d,f,e,!1):b.xa(a,d,null,void 0,!1);else{var h,k=Xe(this.a);if(!k||0==k.length)throw new Kd("field name require for reduce operation: "+g);k=k[0];if("MIN"==g)h=df(k);else if("MAX"==g)h=ef(k);else if("AVG"==g)c=0,h=ff(k);else if("SUM"==g)c=0,h=gf(k);else throw new Fd(g);
var m;r(e)?m=new Ie(d,e,f):m=new He(d,f);var d=b.b(a.a,uc(a),d,4),p=m.load([d]);p.w=function(b){L(a,b,!0)};var n=0;p.q=function(b){null!=b?(b=m.a?p.p():p.u(),c=h(b,c,n),p.advance(1),n++):L(a,c)}}};function ff(a){return function(b,c,d){r(c)||(c=0);return(c*d+b[a])/(d+1)}}function gf(a){return function(b,c){return c+b[a]}}function df(a){return function(b,c){var d=b[a];return r(c)?c<d?c:d:d}}function ef(a){return function(b,c){var d=b[a];return r(c)?c>d?c:d:d}};function je(a,b){this.a=b}C(je,af);je.prototype.logger=null;
je.prototype.executeSql=function(a,b,c){if(c){for(var d=0;d<c.length;d++)b.M=b.M.replace("?",c[d]);We(b,b.M)}b.g=Ye(b);if(b.g){c=b.a.length;if(d=/OFFSET\s+(\d+)/i.exec(b.a))b.xb=parseInt(d[1],10),c=b.a.search(/OFFSET/i);if(d=/LIMIT\s+(\d+)/i.exec(b.a))b.ub=parseInt(d[1],10),d=b.a.search(/LIMIT/i),d<c&&(c=d);(c=/ORDER BY\s+(.+)/i.exec(b.a.substr(0,c)))?(c=c[1].trim(),(d=c.match(/(ASC|DESC)/i))?(b.eb="DESC"==d[0].toUpperCase(),c=c.replace(/\s+(ASC|DESC)/i,"")):b.eb=!1,b.i=na(na(c,'"'),"'")):b.i=void 0;
c=""}else c=b.sa;if(c)throw new Xd(c);c=$a(b.b);if(1==c.length){d=S(this.a,c[0]);if(!d)throw new Ud(c[0]);var e=Xe(b);if(e)for(var f=0;f<e.length;f++)if(!hd(d,e[f]))throw new Ud('Index "'+e[f]+'" not found in '+c[0]);var g;b.e?g=new cf(d,b):g=new bf(d,b);g.b(a,this)}else throw new Fd(b.M);};function hf(a,b,c,d){ze.call(this,a,0,c,d);this.L=null;this.c=this.f=void 0}C(hf,ze);l=hf.prototype;l.logger=null;l.p=function(){return this.c};l.kb=function(a,b,c,d,e){hf.s.kb.call(this,a,b,c,d,e);this.L=w(b)?cd(this.a,b):null};l.u=function(){return this.A};function jf(a,b){a.f=void 0;a.c=void 0;a.A=void 0;if(r(b))if(B(b)){var c=Vc(b[a.a.e],a.a.type);a.c=c;if(a.g){var d=cd(a.a,a.j);a.f=Vc(b[a.j],d.type)}else a.f=c;a.A=a.Ca?c:kf(b,a.a)}else a.A=b}
function lf(a,b,c){cd(a.a,a.j);var d=[],e=a.j,f=a.ea,g=a.f;if(null!=f){var h=f.lower,k=f.upper,m=f.lowerOpen,p=f.upperOpen;a.reverse?k=null!=k&&-1==N(k,g)?k:g:h=null!=h&&1==N(h,g)?h:g;null!=h&&null!=k?f=Q.bound(h,k,!!m,!!p):f=null!=h?Oc.lowerBound(h,!!m):Oc.upperBound(k,!!p)}else f=a.reverse?Oc.upperBound(g):Oc.lowerBound(g);e=bd(a.a,d,a.W,e,f,a.reverse,a.unique);c=a.reverse?Oc.upperBound(c,!1):Oc.lowerBound(c,!1);c=bd(a.a,d,a.W,a.a.e,c,a.reverse,a.unique);e.n=e.n?e.n+(" AND "+c.n):c.n;c="SELECT "+
e.select+" FROM "+e.J+(e.n?" WHERE "+e.n:"")+(e.group?" GROUP BY "+e.group:"")+" ORDER BY "+e.K;c+=" LIMIT 1";Xb(a+": continuePrimary:  SQL: "+c+" : "+R(d));a.e.executeSql(c,d,function(c,d){0<d.rows.length?jf(a,d.rows.item(0)):jf(a);b.call(a,a.f,a.c,a.A);b=null},function(c,d){Ae(a,d);jf(a);b.call(a,a.c,a.f,a.A);b=null;return!1})}
function mf(a,b,c,d,e,f){var g=!d;d=[];a.g&&null!=f&&null!=c?c=fd(a.a,a.W,d,a.L.getName(),a.ea,c,g,f,a.reverse,a.unique):null!=c?(f=a.L?a.L.getName():null,c=ed(a.a,a.W,d,f,a.ea,a.reverse,a.unique,c,g)):(c=ad(a.a,d,a.W,a.g?a.L.d:a.a.e,a.ea,a.reverse,a.unique),a.g&&(c+=", "+a.a.c+" ASC"));c+=" LIMIT 1";0<e&&(c+=" OFFSET "+e);Xb(a+": continue:  SQL: "+c+" : "+R(d));a.e.executeSql(c,d,function(c,d){0<d.rows.length?jf(a,d.rows.item(0)):jf(a);b.call(a,a.f,a.c,a.A);b=null},function(c,d){Ae(a,d);jf(a);b.call(a,
a.c,a.f,a.A);b=null;return!1})}l.Wa=function(){return!!this.e};l.update=function(a){if(!this.Wa())throw new Td;var b=new E,c=this.p();a=md(this.a,a,c);var d="REPLACE INTO "+dd(this.a)+" ("+a.rb.join(", ")+") VALUES ("+a.Db.join(", ")+")";Xb(this+': update "'+d+'" : '+R(a.D));this.e.executeSql(d,a.D,function(){b.o(c)},function(a,c){b.m(c);return!1});return b};
l.advance=function(a){var b=this.f,c=this.c,d=!0;null==this.f||this.g&&null==this.c||(a-=1,d=!1);mf(this,function(a,d,g){var h=null!=b&&null!=a&&0==N(b,a);if(this.g){var k=null!=d&&null!=c&&0==N(d,c);if(h&&k)throw new tb("current: "+b+";"+c+" next: "+a+";"+d);}else if(h)throw new tb("current: "+b+" next: "+a);this.P(a,d,g)},this.f,d,a,this.c)};l.ma=function(a){null!=a?mf(this,this.P,a,!0):this.advance(1)};l.openCursor=function(a,b){mf(this,this.P,a,!1,0,b)};
l.clear=function(){if(!this.Wa())throw new Td;var a=new E,b=this.a.e,b="DELETE FROM "+dd(this.a)+" WHERE "+b+" = ?",c=[this.p()];Xb(this+': clear "'+b+'" : '+R(c));this.e.executeSql(b,c,function(b,c){a.o(c.rowsAffected)},function(b,c){a.m(c);return!1});return a};l.Ka=function(a){var b=N(a,this.c);if(0==b||1==b&&this.reverse||-1==b&&!this.reverse)throw new Kd(this+" to continuePrimaryKey  from "+this.c+" to "+a+" on "+this.N+" direction is wrong");lf(this,this.P,a)};function nf(a,b){this.a=b}C(nf,Zd);l=nf.prototype;l.logger=null;
function kf(a,b){if(b.fa&&!b.keyPath&&0==b.a.length&&a._default_){var c=a._default_;if(-1==c.indexOf(";base64,"))return rd(c);'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(";base64,"),c=d[0].split(":")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?rd(a._default_):{};null!=b.keyPath&&(d=Vc(a[b.keyPath],b.type),null!=d&&ld(b,c,d));for(d=0;d<b.a.length;d++)if(e=b.index(d),
f=e.d,"_default_"!=f&&!e.f&&!e.multiEntry&&("DATE"==e.type||b.fa)&&(g=Vc(a[f],e.type),r(g)))for(var f=c,h=0;h<e.b.length;h++)h==e.b.length-1?f[e.b[h]]=g:B(f[e.b[h]])||(f[e.b[h]]={});return c}l.zb=function(){throw new rb("putData");};
l.V=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(p++,p==e.length)L(a,m,n);else{var x=b+2;x<e.length&&g(x,d)}var y;y=r(f)?md(h,e[b],f[b]):md(h,e[b]);x=k+dd(h)+" ("+y.rb.join(", ")+") VALUES ("+y.Db.join(", ")+");";d.executeSql(x,y.D,function(f,x){function J(a,b){var c="ydn.db.me:"+h.getName()+":"+a.getName(),c=k+qa(c)+" ("+h.c+", "+a.c+") VALUES (?, ?)",e=[Qc(O,h.type),Qc(b,a.type)];d.executeSql(c,e,function(){},function(){return!1})}p++;var O=r(y.key)?y.key:x.insertId;1>x.rowsAffected&&
(n=!0,O=new Rd(O+" no-op"));for(var P=0,ua=h.a.length;P<ua;P++){var Hb=h.index(P);if(Hb.multiEntry)for(var Ib=ec(e[b],Hb.keyPath),Jb=(Ib?Ib.length:0)||0,qb=0;qb<Jb;qb++)J(Hb,Ib[qb])}c?L(a,O):(m[b]=O,p==e.length?L(a,m,n):(P=b+2,P<e.length&&g(P,f)))},function(d,f){p++;n=!0;6==f.code&&(f.name="ConstraintError");if(c)L(a,f,!0);else if(m[b]=f,p==e.length)L(a,m,n);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=S(this.a,d),k=b?"INSERT INTO ":"INSERT OR REPLACE INTO ";d=a.a;var m=[],p=0,n=!1;if(0<
e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else L(a,[])};
l.$a=function(a,b,c){if(0==c.length)L(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){for(var m=[],n=jd(S(g.a,h)),p=n?void 0:[],s=0;s<k.length;s++)m.push(b[k[s]]),n||p.push(c[k[s]].id);n=rc(a);kb(n,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&L(a,d)},function(){e++;e==f&&L(a,d,!0)});g.V(n,!1,!1,h,m,p)},k="",m=[],p=[],n=0;n<c.length;n++){var s=c[n].h(),u=c[n].id;s!=k?(f++,0<m.length&&h(k,m),m=[n],p=[u],k=s):(m.push(n),p.push(u))}0<m.length&&h(k,m)}};
l.Ta=function(a,b,c){var d=a.a,e=S(this.a,b);b=e.c;c=[Qc(c,e.type)];b="SELECT * FROM "+dd(e)+" WHERE "+b+" = ?";d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=kf(d,e),L(a,d)):L(a,void 0)}else L(a,void 0)},function(b,c){L(a,c,!0);return!1})};
l.vb=function(a,b,c){function d(b,e){var p=h.c,n=[Qc(c[b],h.type)],p="SELECT * FROM "+dd(h)+" WHERE "+p+" = ?";e.executeSql(p,n,function(e,m){g++;if(0<m.rows.length){var n=m.rows.item(0);null!=n&&(f[b]=kf(n,h))}else f[b]=void 0;g==c.length?L(a,f):(n=b+10,n<c.length&&d(n,e))},function(e){g++;if(g==c.length)L(a,f);else{var h=b+10;h<c.length&&d(h,e)}return!1})}var e=a.a,f=[],g=0,h=S(this.a,b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)d(b,e);else L(a,[])};
l.wb=function(a,b){function c(d,h){var p=b[d],n=p.h(),s=S(e.a,n),n=Ic(p),p=s.c,n=[Qc(n,s.type)],p="SELECT * FROM "+dd(s)+" WHERE "+p+" = ?";h.executeSql(p,n,function(e,h){g++;if(0<h.rows.length){var m=h.rows.item(0);null!=m&&(f[d]=kf(m,s))}else f[d]=void 0;g==b.length?L(a,f):(m=d+10,m<b.length&&c(m,e))},function(b,c){L(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,d);else L(a,[])};
l.Na=function(a,b){function c(d,g){function h(a){a="ydn.db.me:"+k.getName()+":"+a.getName();a="DELETE FROM  "+qa(a);g.executeSql(a,[])}var k=S(e.a,b[d]),m="DELETE FROM  "+dd(k);g.executeSql(m,[],function(e){d==b.length-1?L(a,b.length):c(d+1,e)},function(b,c){L(a,c,!0);return!1});for(var m=0,p=k.a.length;m<p;m++){var n=k.index(m);n.multiEntry&&h(n)}}var d=a.a,e=this;0<b.length?c(0,d):L(a,0)};
l.Bb=function(a,b){function c(h){if(h>=b.length)L(a,f,g);else{var k=S(e.a,b[h].h()),m=Qc(b[h].id,k.type),p=" WHERE "+k.c+" = ?",n="DELETE FROM "+dd(k)+p;d.executeSql(n,[m],function(){f++;c(h)},function(){g=!0;c(h);return!1});h++;for(var n=function(a){a="ydn.db.me:"+k.getName()+":"+a.getName();a="DELETE FROM  "+qa(a)+p;d.executeSql(a,[m])},s=0,u=k.a.length;s<u;s++){var x=k.index(s);x.multiEntry&&n(x)}}}var d=a.a,e=this,f=0,g=!1;c(0)};
l.ab=function(a,b,c){function d(a){a="ydn.db.me:"+f.getName()+":"+a.getName();a="DELETE FROM  "+qa(a)+h;e.executeSql(a,[g])}var e=a.a,f=S(this.a,b),g=Qc(c,f.type),h=" WHERE "+f.c+" = ?";b="DELETE FROM "+dd(f)+h;e.executeSql(b,[g],function(b,c){L(a,c.rowsAffected)},function(b,c){L(a,c,!0);return!1});b=0;for(c=f.a.length;b<c;b++){var k=f.index(b);k.multiEntry&&d(k)}};l.qb=function(a,b,c){of(this,a,b,void 0,c)};l.bb=function(a,b,c){of(this,a,b,void 0,c)};l.Ab=function(a,b,c,d){of(this,a,b,c,d)};
function of(a,b,c,d,e){function f(a){a="ydn.db.me:"+h.getName()+":"+a.getName();a="DELETE FROM  "+qa(a)+m;g.executeSql(a,k)}var g=b.a,h=S(a.a,c);a="DELETE FROM "+dd(h);c=[];var k=[],m="";null!=e&&(r(d)?(d=cd(h,d),Pc(d.c,d.type,e,k,c)):Pc(h.c,h.type,e,k,c),m=" WHERE "+k.join(" AND "));g.executeSql(a+m,c,function(a,c){L(b,c.rowsAffected)},function(a,c){L(b,c,!0);return!1});e=0;for(d=h.a.length;e<d;e++)a=h.index(e),a.multiEntry&&f(a)}
l.Oa=function(a,b){function c(f){var g="SELECT COUNT(*) FROM "+qa(b[f]);d.executeSql(g,[],function(d,g){var m=g.rows.item(0);e[f]=parseInt(m["COUNT(*)"],10);f++;f==b.length?L(a,e):c(f)},function(b,c){L(a,c,!0);return!1})}var d=a.a,e=[];0==b.length?L(a,0):c(0)};l.xa=function(a,b,c,d,e){var f=[];b=ad(S(this.a,b),f,6,d,c,!1,e);a.a.executeSql(b,f,function(b,c){var d=c.rows.item(0);L(a,Ld(d))},function(b,c){L(a,c,!0);return!1})};
l.O=function(a,b,c,d,e,f,g,h,k,m){var p=[],n=S(this.a,c),s=n.e,u=n.type,x=u,y=null!=d&&d!==s?cd(n,d):null,F=d||s;y&&(x=y.type);c=[];if(m&&r(m[0])){var D=m[0];y&&r(m[1])?(d=m[1],e=fd(n,b,c,y.getName(),e,D,!0,d,h,k)):e=ed(n,b,c,d,e,h,k,D,!0)}else e=ad(n,c,b,F,e,h,k);z(f)&&(e+=" LIMIT "+f);z(g)&&(e+=" OFFSET "+g);R(c);a.a.executeSql(e,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?p[g]=Vc(f[s],u):1==b?p[g]=Vc(f[F],x):3==b?p[g]=[Vc(f[F],x),Vc(f[s],u)]:null!=f&&(p[g]=kf(f,
n));m&&f&&(m[0]=Vc(f[F],x),m[1]=Vc(f[s],u));L(a,p)},function(b,c){L(a,c,!0);return!1})};function pf(a,b){this.a=b}C(pf,nf);pf.prototype.logger=null;pf.prototype.b=function(a,b,c,d){b=S(this.a,c);return new hf(a,0,b,d)};function qf(a,b){this.b=b;this.d=a;this.a=Xe(b)}qf.prototype.logger=null;qf.prototype.toJSON=function(){return{sql:this.b.M}};qf.prototype.toString=function(){return"websql.Node:"};function rf(a,b){if(a.a){if(1==a.a.length){if(B(b))return ub(b,a.a[0]);return}for(var c={},d=0;d<a.a.length;d++)c[a.a[d]]=ub(b,a.a[d]);return c}return kf(b,a.d)}
qf.prototype.c=function(a,b,c){var d=this,e=[];b.executeSql(this.b.M,c,function(b,c){for(var h=c.rows.length,k=0;k<h;k++){var m=c.rows.item(k);if(B(m))var p=rf(d,m);e.push(p)}a(e)},function(b,c){a(c,!0);return!0})};function sf(a,b){qf.call(this,a,b)}C(sf,qf);sf.prototype.c=function(a,b,c){b.executeSql(this.b.M,c,function(b,c){var f=c.rows.length;if(1==f)f=Ld(c.rows.item(0)),a(f);else if(0==f)a(void 0);else throw new Sd;},function(b,c){a(c,!0);return!0})};function ke(a,b){this.a=b}C(ke,pf);ke.prototype.logger=null;ke.prototype.executeSql=function(a,b,c){var d=$a(b.b);if(1==d.length){var e=S(this.a,d[0]);if(!e)throw new Ud(d[0]);var f=Xe(b);if(f)for(var g=0;g<f.length;g++)if(!hd(e,f[g]))throw new Ud('Index "'+f[g]+'" not found in '+d[0]);var h;b.e?h=new sf(e,b):h=new qf(e,b);h.c(function(b,c){L(a,b,c)},a.a,c)}else throw new Fd(b.M);};function tf(a,b,c,d){ie.call(this,a,b,c,d)}C(tf,Z);tf.prototype.executeSql=function(a,b){for(var c=new Ve(a),d=$a(c.b),e=0;e<d.length;e++){var f=S(this.b,d[e]);if(!f)throw new G("store: "+f+" not exists.");}var g=this.a.request("r",$a(c.b),c.c);M(g,function(){U(this).executeSql(g,c,b||[])},this);return g};function uf(a,b,c){X.call(this,a,b,c)}C(uf,Ue);uf.prototype.ha=function(a,b){return new tf(this,this.b,a,b)};uf.prototype.executeSql=function(a,b){return this.a.executeSql(a,b)};function vf(a,b){this.r=null;this.qa=b||NaN}l=vf.prototype;
l.gb=function(a,b){function c(a,c){for(var d=0;d<b.stores.length;d++)wf(a,c,b.stores[d]);for(var e=a.objectStoreNames,f=e.length,d=0;d<f;d++)zd(b,e[d])||a.deleteObjectStore(e[d])}function d(a,b){f.c||(r(b)?(e.r=null,f.m(b)):(e.r=a,e.r.onabort=function(a){e.Ha(a.target.error)},e.r.onerror=function(a){e.Ha(a.target.error)},e.r.onversionchange=function(a){if(e.r&&(e.r.onabort=null,e.r.onblocked=null,e.r.onerror=null,e.r.onversionchange=null,e.Za(a),!a.defaultPrevented)){e.r.close();e.r=null;var b=Error();
b.name=a.type;e.ib(b)}},f.o(parseFloat(g))))}var e=this,f=new E,g=void 0,h=b.version,k;k=r(h)?dc.open(a,h):dc.open(a);k.onsuccess=function(f){var h=f.target.result;r(g)||(g=h.version);if(b.b)e.Y(function(e){if(b instanceof Cd)for(var f=0;f<e.stores.length;f++)zd(b,e.stores[f].getName())||Dd(b,e.stores[f].B());if(0<Ad(b,e,!1,!0).length)if(e=z(h.version)?h.version+1:1,"IDBOpenDBRequest"in q){h.close();var g=dc.open(a,e);g.onupgradeneeded=function(a){c(a.target.result,g.transaction)};g.onsuccess=function(a){d(a.target.result)};
g.onerror=function(){d(null)}}else{var k=h.setVersion(e+"");k.a=function(a){d(null,a)};k.onsuccess=function(){k.transaction.oncomplete=m;c(h,k.transaction)};var m=function(){var b=dc.open(a);b.onsuccess=function(a){d(a.target.result)};b.onerror=function(){d(null)}};null!=k.transaction&&(k.transaction.oncomplete=m)}else d(h)},void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){d(null,a)};k.onsuccess=function(){c(h,k.transaction)}}else e.Y(function(a){a=Ad(b,a,!1,!0);
0<a.length?d(null,new Id("different schema: "+a)):d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;c(a,k.transaction)};k.onerror=function(a){d(null,a)};k.onblocked=function(a){d(null,a)};z(this.qa)&&!isNaN(this.qa)&&setTimeout(function(){"done"!=k.readyState&&d(null,new Yd("connection timeout after "+e.qa))},this.qa);return f};l.qa=18E4;l.ib=function(){};l.Ha=function(){};l.Za=function(){};l.Ib=function(){return"indexeddb"};l.hb=function(){return!!this.r};l.logger=null;l.r=null;
l.Jb=function(){return this.r?parseFloat(this.r.version):void 0};
l.Y=function(a,b,c){c=c||this.r;if(r(b)){if(null===b){if(0==c.objectStoreNames.length){a(new xd(c.version));return}throw new Hd;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new xd(c.version));return}b=c.transaction(b,H)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],m=0,p=h.indexNames.length;m<p;m++){var n=h.index(h.indexNames[m]);k[m]=new Sc(n.keyPath,void 0,n.unique,n.multiEntry,n.name)}f[d]=
new Zc(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new xd(c.version,f);a(b)};
function wf(a,b,c){function d(){var b={autoIncrement:!!c.b};null!=c.keyPath&&(b.keyPath=c.keyPath);return a.createObjectStore(c.getName(),b)}Vb("Creating Object Store for "+c.getName()+" keyPath: "+c.keyPath);if(a.objectStoreNames.contains(c.getName())){b=b.objectStore(c.getName());Xc(c.keyPath||"",b.keyPath||"")?(a.deleteObjectStore(c.getName()),Vb("store: "+c.getName()+" deleted due to keyPath change."),b=d()):ba(b.autoIncrement)&&ba(c.b)&&b.autoIncrement!=c.b&&(a.deleteObjectStore(c.getName()),
Vb("store: "+c.getName()+" deleted due to autoIncrement change."),b=d());for(var e=b.indexNames,f=0;f<c.a.length;f++){var g=c.index(f);!e.contains(g.getName())&&g.e&&(b.clear(),Vb("store: "+c.getName()+" cleared since generator index need re-indexing."))}for(var h=0,k=0,m=0,f=0;f<c.a.length;f++){var g=c.index(f),p=!1;if(e.contains(g.getName())){var n=b.index(g.getName()),s=null!=n.unique&&null!=g.unique&&n.unique!=g.unique,u=null!=n.multiEntry&&null!=g.multiEntry&&n.multiEntry!=g.multiEntry,n=null!=
n.keyPath&&null!=g.keyPath&&!!Xc(n.keyPath,g.keyPath);if(s||u||n)b.deleteIndex(g.getName()),p=!0,h--,m++}else"BLOB"!=g.type&&(p=!0);p&&(g.unique||g.multiEntry?(p={unique:g.unique,multiEntry:g.multiEntry},b.createIndex(g.getName(),g.keyPath,p)):b.createIndex(g.getName(),g.keyPath),h++)}for(f=0;f<e.length;f++)hd(c,e[f])||(b.deleteIndex(e[f]),k++)}else for(b=d(),f=0;f<c.a.length;f++)g=c.index(f),"BLOB"!=g.type&&(g.unique||g.multiEntry?(p={unique:g.unique,multiEntry:g.multiEntry},b.createIndex(g.getName(),
g.keyPath,p)):b.createIndex(g.getName(),g.keyPath))}l.Ra=function(a,b,c,d){var e=this.r;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d("complete",a)},b.onabort=function(a){d("abort",a)},a(b),a=null)};l.close=function(){this.r.close()};
wc.push(function(a,b){if(!dc||b&&"indexeddb"!=b)return null;var c=dc.deleteDatabase(a),d=new K("vc");c.onblocked=function(a){$b(d,a)};c.onerror=function(a){d.m(a)};c.onsuccess=function(a){d.o(a)};return d});function xf(a,b){this.a=r(a)?a:4194304;this.b=b||"websql"}l=xf.prototype;
l.gb=function(a,b){function c(a,b){var c=a.version?parseInt(a.version,10):0,f=!1,g=0;a.changeVersion(a.version,(b.b?isNaN(c)?1:c+1:b.version)+"",function(c){e.Y(function(a){f=!0;for(var d=0;d<b.count();d++){var e=S(a,(b.stores[d]||null).getName()),e=e?id(e,b.stores[d]||null):null;yf(c,b.stores[d]||null,function(a){a&&g++},e)}for(d=0;d<a.count();d++)e=a.stores[d]||null,zd(b,e.getName())||(b instanceof Cd?Dd(b,e):(e="DROP TABLE "+dd(e),c.executeSql(e,[],function(){},function(a,b){throw b;})))},c,a)},
function(a){throw a;},function(){f&&d(a)})}function d(a,b){r(b)?(e.C=null,g.m(b)):(e.C=a,g.o(parseFloat(f)))}var e=this,f=NaN,g=new E,h=null;try{"sqlite"==this.b?q.sqlitePlugin?(h=q.sqlitePlugin.openDatabase(a,"",a,this.a),h.readTransaction||(h.readTransaction=h.transaction),h.changeVersion=function(a,b,c,d,e){h.transaction(c,d,e)}):(h=null,this.Ja=Error("sqlitePlugin not found.")):h=q.openDatabase(a,"",a,this.a)}catch(k){if("SECURITY_ERR"==k.name)h=null,this.Ja=new Wd(k);else throw k;}h?(f=h.version||
"",null!=b.version&&b.version==h.version?d(h):this.Y(function(a){Ad(b,a,!0,!1)?c(h,b):d(h)},null,h)):d(null,this.Ja);return g};l.Ib=function(){return this.b};l.Ja=null;l.C=null;l.logger=null;l.ib=function(){};l.Ha=function(){};
function zf(a){var b=a.l,c="CREATE TABLE IF NOT EXISTS "+dd(a)+" (",d=a.c,c=c+(d+" "+b+" PRIMARY KEY ");a.b&&(c+=" AUTOINCREMENT ");if(!a.fa||!a.keyPath&&0==a.a.length)c+=" ,_default_ BLOB";for(var e=[],f=[d],g=0,h=a.a.length;g<h;g++){var k=a.index(g),m="";if(k.multiEntry){var m="ydn.db.me:"+a.getName()+":"+k.getName(),p=k.unique?" UNIQUE ":"",k="CREATE TABLE IF NOT EXISTS "+qa(m)+" ("+d+" "+b+", "+k.c+" "+k.g+p+")";e.push(k)}else k.unique&&(m=" UNIQUE "),p=k.keyPath,"BLOB"!=k.type&&w(p)&&(p="CREATE "+
m+" INDEX IF NOT EXISTS "+qa(a.getName()+"-"+k.getName())+" ON "+dd(a)+" ("+k.c+")",e.push(p)),p=k.c,-1==f.indexOf(p)&&(c+=", "+p+" "+k.g+m,f.push(p))}e.unshift(c+")");return e}l.Jb=function(){return this.C?parseFloat(this.C.version):void 0};
l.Y=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if("__WebKitDatabaseInfoTable__"!=e.name&&"sqlite_sequence"!=e.name&&"table"==e.type){var f="sql"in e?e.sql:void 0,u=f.substr(f.indexOf("("),f.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g),x=void 0,y,f=[],F=!1,D=!1,J=0;for(;J<u.length;J++){var O=u[J].match(/\w+|"[^"]+"/g),P=Ua(O,function(a){return a.toUpperCase()}),ua=na(O[0],'"'),O=Tc(P[1]);if(-1!=P.indexOf("PRIMARY")&&
-1!=P.indexOf("KEY")){y=O;if(w(ua)&&!/^[\s\xa0]*$/.test(ua)&&"_ROWID_"!=ua){var Hb=ua.split(","),x=ua;1<Hb.length&&(x=Hb,y=void 0)}-1!=P.indexOf("AUTOINCREMENT")&&(F=!0)}else if("_ROWID_"!=ua)if("_default_"==ua)D=!0;else{var Ib="UNIQUE"==P[2];0==ua.lastIndexOf(e.tbl_name+"-",0)&&(ua=ua.substr(e.tbl_name.length+1));P=new Sc(ua,O,Ib);f.push(P)}}if(0==e.name.lastIndexOf("ydn.db.me:",0)){var Jb=e.name.split(":");if(3<=Jb.length){var qb=Jb[1],x=new Sc(Jb[2],O,Ib,!0),u=Ya(f,function(a){return a.getName()==
Jb[2]});0<=u?f[u]=x:f.push(x);u=Ya(h,function(a){return a.getName()===qb});0<=u?(J=h[u],h[u]=new Zc(J.getName(),J.keyPath,F,y,f,void 0,!D)):h.push(new Zc(qb,void 0,!1,void 0,[x]));Xb('multi entry index "'+x.getName()+'" found in '+qb+(-1==u?"*":""))}}else J=Ya(h,function(a){return a.getName()===e.name}),0<=J?(u=h[J].index(0),f.push(u),h[J]=new Zc(e.name,x,F,y,f,void 0,!D)):(f=new Zc(e.name,x,F,y,f,void 0,!D),h.push(f))}}d=new xd(g,h);a(d)}}var f=this,g=(c=c||this.C)&&c.version?parseFloat(c.version):
void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql("SELECT * FROM sqlite_master",[],e,d):c.readTransaction(function(b){f.Y(a,b,c)},function(a){throw a;},e)};
function yf(a,b,c,d){function e(b){a.executeSql(b,[],function(){f++;f==g.length&&(c(!0),c=null)},function(a,b){f++;f==g.length&&(c(!1),c=null);throw new Vd(b,'"');})}var f=0,g=zf(b),h="Create";if(d){d=nd(b,d);if(0==d.length){Xb("same table "+b.getName()+" exists.");c(!0);c=null;return}h="Modify";Wb("table: "+b.getName()+" has changed by "+d+" ALTER TABLE cannot run in WebSql, dropping old table.");g.unshift("DROP TABLE IF EXISTS "+qa(b.getName()))}Xb(h+" table: "+b.getName()+": "+g.join(";"));for(b=
0;b<g.length;b++)e(g[b])}l.hb=function(){return!!this.C};l.close=function(){this.C=null};l.Ra=function(a,b,c,d){function e(a){d("abort",a)}function f(){d("complete",{type:"complete"})}function g(b){a(b)}null===this.C&&(a(null),d("abort",this.Ja));c==H?this.C.readTransaction(g,e,f):c==cc?this.C.changeVersion(this.C.version,this.C.version+1+"",g,e,f):this.C.transaction(g,e,f)};
wc.push(function(a,b){if(A(q.openDatabase)&&(!b||"websql"==b)){var c=new xf,d=new Cd,d=c.gb(a,d),e=function(){};d.G(function(){c.Ra(function(a){a.executeSql('SELECT * FROM sqlite_master WHERE type = "table"',[],function(b,c){if(c&&c.rows)for(var d=c.rows.length,e=0,p=0;p<d;p++){var n=c.rows.item(p);"__WebKitDatabaseInfoTable__"!=n.name&&"sqlite_sequence"!=n.name&&(e++,a.executeSql("DROP TABLE "+n.name))}},function(a,b){throw b;})},[],I,e)});d.mb(function(){})}});xf.prototype.Za=function(){};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
W.prototype.Pa=function(a){return"indexeddb"==a&&dc?new vf(0,this.t):"sqlite"==a&&q.sqlitePlugin?new xf(this.l,"sqlite"):"websql"==a&&A(q.openDatabase)?new xf(this.l):null};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
uf.prototype.executeSql=uf.prototype.executeSql;tf.prototype.executeSql=tf.prototype.executeSql;function Af(a,b,c){X.call(this,a,b,c)}C(Af,uf);ja("ydn.db.Storage",Af);function Bf(a,b){xc.call(this);this.d=b;this.b=[];if(a>this.d)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.b.push(this.a())}C(Bf,xc);Bf.prototype.a=function(){return{}};Bf.prototype.c=function(a){if(B(a))if(A(a.Qa))a.Qa();else for(var b in a)delete a[b]};Bf.prototype.U=function(){Bf.s.U.call(this);for(var a=this.b;a.length;)this.c(a.pop());delete this.b};function Cf(){this.a=[];this.c=new Bb;this.d=new Bb;this.f=1;this.e=new Bf(0,4E3);this.e.a=function(){return new Df};this.g=new Bf(0,50);this.g.a=function(){return new Ef};var a=this;this.b=new Bf(0,2E3);this.b.a=function(){return String(a.f++)};this.b.c=function(){}}function Ef(){this.time=this.count=0}Ef.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");return a.join("")};function Df(){}
function Ff(a,b,c){var d=[];-1==b?d.push("    "):d.push(Gf(a.b-b));d.push(" ",Hf(a.b-0));0==a.a?d.push(" Start        "):1==a.a?(d.push(" Done "),d.push(Gf(a.e-a.startTime)," ms ")):d.push(" Comment      ");d.push(c,a);0<a.d&&d.push("[VarAlloc ",a.d,"] ");return d.join("")}Df.prototype.toString=function(){return null==this.type?this.c:"["+this.type+"] "+this.c};
Cf.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.a.length;d++){var e=this.a[d];1==e.a&&c.pop();a.push(" ",Ff(e,b,c.join("")));b=e.b;a.push("\n");0==e.a&&c.push("|  ")}if(0!=this.c.sb()){var f=ia();a.push(" Unstopped timers:\n");Ab(this.c,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",Hf(b.startTime),")\n")})}b=this.d.na();for(d=0;d<b.length;d++)c=this.d.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",0,"\n","Total comments created ",
0,"\n","Overhead start: ",0," ms\n","Overhead end: ",0," ms\n","Overhead comment: ",0," ms\n");return a.join("")};function Gf(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function Hf(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new Cf;var If;(If=!Mb)||(If=Mb&&9<=Ub);var Jf=If,Kf=Mb&&!Sb("9");!Ob||Sb("528");Nb&&Sb("1.9b")||Mb&&Sb("8")||Lb&&Sb("9.5")||Ob&&Sb("528");Nb&&!Sb("8")||Mb&&Sb("9");function Lf(a){Lf[" "](a);return a}Lf[" "]=function(){};function Mf(a,b){Ac.call(this,a?a.type:"");this.b=this.a=this.target=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.a=b;var c=a.relatedTarget;if(c&&Nb)try{Lf(c.nodeName)}catch(d){}this.b=a;a.defaultPrevented&&this.preventDefault()}}C(Mf,Ac);Mf.prototype.preventDefault=function(){Mf.s.preventDefault.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Kf)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Nf="closure_listenable_"+(1E6*Math.random()|0);function Of(a){try{return!(!a||!a[Nf])}catch(b){return!1}}var Pf=0;function Qf(a,b,c,d,e){this.ba=a;this.d=null;this.src=b;this.type=c;this.b=!!d;this.c=e;this.key=++Pf;this.a=this.ua=!1}function Rf(a){a.a=!0;a.ba=null;a.d=null;a.src=null;a.c=null};function Sf(a){this.src=a;this.a={};this.b=0}Sf.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=Tf(a,b,d,e);-1<g?(b=a[g],c||(b.ua=!1)):(b=new Qf(b,this.src,f,!!d,e),b.ua=c,a.push(b));return b};function Uf(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=Sa(d,b),f;(f=0<=e)&&Ra.splice.call(d,e,1);f&&(Rf(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}
function Tf(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.a&&f.ba==b&&f.b==!!c&&f.c==d)return e}return-1};var Vf="closure_lm_"+(1E6*Math.random()|0),Wf={},Xf=0;function Yf(a,b,c,d,e){if(t(b))for(var f=0;f<b.length;f++)Yf(a,b[f],c,d,e);else c=Zf(c),Of(a)?a.T.add(String(b),c,!1,d,e):$f(a,b,c,!1,d,e)}function $f(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=ag(a);h||(a[Vf]=h=new Sf(a));c=h.add(b,c,d,e,f);c.d||(d=bg(),c.d=d,d.src=a,d.ba=c,a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(cg(b.toString()),d),Xf++)}
function bg(){var a=dg,b=Jf?function(c){return a.call(b.src,b.ba,c)}:function(c){c=a.call(b.src,b.ba,c);if(!c)return c};return b}function eg(a,b,c,d,e){if(t(b))for(var f=0;f<b.length;f++)eg(a,b[f],c,d,e);else c=Zf(c),Of(a)?a.T.add(String(b),c,!0,d,e):$f(a,b,c,!0,d,e)}
function fg(a,b,c,d,e){if(t(b))for(var f=0;f<b.length;f++)fg(a,b[f],c,d,e);else(c=Zf(c),Of(a))?(a=a.T,b=String(b).toString(),b in a.a&&(f=a.a[b],c=Tf(f,c,d,e),-1<c&&(Rf(f[c]),Ra.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=ag(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Tf(b,c,!!d,e)),(c=-1<a?b[a]:null)&&gg(c))}
function gg(a){if(!z(a)&&a&&!a.a){var b=a.src;if(Of(b))Uf(b.T,a);else{var c=a.type,d=a.d;b.removeEventListener?b.removeEventListener(c,d,a.b):b.detachEvent&&b.detachEvent(cg(c),d);Xf--;(c=ag(b))?(Uf(c,a),0==c.b&&(c.src=null,b[Vf]=null)):Rf(a)}}}function cg(a){return a in Wf?Wf[a]:Wf[a]="on"+a}function hg(a,b,c,d){var e=1;if(a=ag(a))if(b=a.a[b.toString()])for(b=$a(b),a=0;a<b.length;a++){var f=b[a];f&&f.b==c&&!f.a&&(e&=!1!==ig(f,d))}return Boolean(e)}
function ig(a,b){var c=a.ba,d=a.c||a.src;a.ua&&gg(a);return c.call(d,b)}
function dg(a,b){if(a.a)return!0;if(!Jf){var c;if(!(c=b))a:{c=["window","event"];for(var d=q,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Mf(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.a;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;0<=h;h--)c.a=e[h],d&=hg(e[h],f,!0,c);for(h=0;h<e.length;h++)c.a=e[h],d&=hg(e[h],f,!1,c)}return d}return ig(a,
new Mf(b,this))}function ag(a){a=a[Vf];return a instanceof Sf?a:null}var jg="__closure_events_fn_"+(1E9*Math.random()>>>0);function Zf(a){return A(a)?a:a[jg]||(a[jg]=function(b){return a.handleEvent(b)})};function kg(){xc.call(this);this.T=new Sf(this);this.b=this}C(kg,xc);kg.prototype[Nf]=!0;kg.prototype.a=null;kg.prototype.addEventListener=function(a,b,c,d){Yf(this,a,b,c,d)};kg.prototype.removeEventListener=function(a,b,c,d){fg(this,a,b,c,d)};kg.prototype.U=function(){kg.s.U.call(this);if(this.T){var a=this.T,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,Rf(d[e]);delete a.a[c];a.b--}}this.a=null};
function lg(a,b,c,d){b=a.T.a[String(b)];if(!b)return!0;b=$a(b);for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.a&&g.b==c){var h=g.ba,k=g.c||g.src;g.ua&&Uf(a.T,g);e=!1!==h.call(k,d)&&e}}return e&&!1!=d.Cb};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
function mg(a){a.f||(a.f=new kg);return a.f}W.prototype.addEventListener=function(a,b,c,d){"ready"==a?eg(mg(this),a,b,c,d):Yf(mg(this),a,b,c,d)};W.prototype.removeEventListener=function(a,b,c,d){fg(mg(this),a,b,c,d)};
W.prototype.H=function(a){var b=mg(this),c,d=b.a;if(d)for(c=[];d;d=d.a)c.push(d);b=b.b;d=a.type||a;if(w(a))a=new Ac(a,b);else if(a instanceof Ac)a.target=a.target||b;else{var e=a;a=new Ac(d,b);wb(a,e)}var e=!0,f;if(c)for(var g=c.length-1;0<=g;g--)f=a.a=c[g],e=lg(f,d,!0,a)&&e;f=a.a=b;e=lg(f,d,!0,a)&&e;e=lg(f,d,!1,a)&&e;if(c)for(g=0;g<c.length;g++)f=a.a=c[g],e=lg(f,d,!1,a)&&e};W.prototype.addEventListener=W.prototype.addEventListener;W.prototype.removeEventListener=W.prototype.removeEventListener;Ue.prototype.scan=Ue.prototype.ec;Ue.prototype.map=Ue.prototype.map;Ue.prototype.reduce=Ue.prototype.reduce;Ue.prototype.open=Ue.prototype.open;Z.prototype.scan=Z.prototype.jb;Z.prototype.map=Z.prototype.map;Z.prototype.reduce=Z.prototype.reduce;Z.prototype.open=Z.prototype.open;ze.prototype.getKey=ze.prototype.fc;ze.prototype.getPrimaryKey=ze.prototype.p;ze.prototype.getValue=ze.prototype.u;ze.prototype.update=ze.prototype.update;ze.prototype.clear=ze.prototype.clear;ja("ydn.db.Iterator",Y);
ja("ydn.db.KeyIterator",Fe);ja("ydn.db.ValueIterator",He);ja("ydn.db.IndexIterator",Ge);ja("ydn.db.IndexValueIterator",Ie);Y.prototype.getState=Y.prototype.Qb;Y.prototype.getKeyRange=Y.prototype.Gb;Y.prototype.getIndexName=Y.prototype.Wb;Y.prototype.getStoreName=Y.prototype.h;Y.prototype.isReversed=Y.prototype.X;Y.prototype.isUnique=Y.prototype.la;Y.prototype.isKeyIterator=Y.prototype.Yb;Y.prototype.isIndexIterator=Y.prototype.Rb;Y.prototype.getPrimaryKey=Y.prototype.p;Y.prototype.getKey=Y.prototype.Xb;
Y.prototype.resume=Y.prototype.Hb;Y.prototype.reset=Y.prototype.cb;Y.prototype.reverse=Y.prototype.reverse;Fe.where=function(a,b,c,d,e){return new Fe(a,Rc(b,c,d,e))};He.where=function(a,b,c,d,e){return new He(a,Rc(b,c,d,e))};Ge.where=function(a,b,c,d,e,f){return new Ge(a,b,Rc(c,d,e,f))};Ie.where=function(a,b,c,d,e,f){return new Ie(a,b,Rc(c,d,e,f))};ja("ydn.db.Streamer",Ne);Ne.prototype.push=Ne.prototype.push;Ne.prototype.collect=Ne.prototype.dc;Ne.prototype.setSink=Ne.prototype.Vb;function ng(a,b){Qe.call(this,a,b)}C(ng,Qe);ng.prototype.f=function(){return!1};ng.prototype.c=function(a,b){function c(b){r(a[b])?(e=!1,d[b]=!0):(d[b]=!1,0<=b-1&&c(b-1))}var d=[],e=!0;c(a.length-1);e&&(d=[]);return Re(this,d,b)};function og(a,b){Qe.call(this,a,b)}C(og,Qe);
og.prototype.c=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],k=1;k<a.length;k++)if(null!=b[k]){var m=N(d,b[k]);h[k]=m;this.b?-1==m?e=!1:1==m&&(e=!1,f=!0,-1==N(b[k],g)&&(g=b[k])):1==m?e=!1:-1==m&&(e=!1,f=!0,1==N(b[k],g)&&(g=b[k]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.b?-1==N(g,b[f])&&(c[f]=g):1==N(g,b[f])&&(c[f]=g));else for(k=this.b?-1:1,f=1;f<a.length;f++)h[f]===k&&(c[f]=d);return e?(this.e++,
this.a&&this.a.push(g),c):{continuePrimary:c}};function pg(a,b){Qe.call(this,a,b)}C(pg,Qe);pg.prototype.logger=null;
pg.prototype.c=function(a,b){function c(a,b){var c=a.slice(0,a.length-1);c.push(b);return c}function d(a){return a[a.length-1]}var e=[];if(0==a.length||null==a[0]||null==a[0])return[];for(var f=!0,g=0,h=d(a[g]),k=[],m=1;m<a.length;m++)if(null!=a[m]){var p=d(a[m]),n=N(h,p);k[m]=n;this.b?-1==n?f=!1:1==n&&(f=!1,h=p,g=1):1==n?f=!1:-1==n&&(f=!1,h=p,g=1)}else return[];m=this.b?-1:1;if(f){for(f=0;f<a.length;f++)null!=a[f]&&(e[f]=!0);this.a&&(this.d?this.a.push(b[0],h):this.a.push(b[0]));return e}if(0==g)for(f=
1;f<a.length;f++)k[f]==m&&(e[f]=c(a[f],h));else for(f=0;f<a.length;f++)f!=g&&null!=a[f]&&N(h,d(a[f]))===m&&(e[f]=c(a[f],h));return{"continue":e}};ja("ydn.db.algo.NestedLoop",ng);ja("ydn.db.algo.ZigzagMerge",pg);ja("ydn.db.algo.SortedMerge",og);function qg(a){this.b=a||[]}qg.prototype.a=function(a){return-1==this.b.indexOf(a)?a:null};function rg(){}
rg.prototype.a=function(a){var b={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},c={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};a=a.toLowerCase();var d,e,f=a;if(3>a.length)return a;var g,h;a=a.substr(0,1);"y"==a&&(f=a.toUpperCase()+f.substr(1));g=/^(.+?)(ss|i)es$/;e=/^(.+?)([^s])s$/;
g.test(f)?f=f.replace(g,"$1$2"):e.test(f)&&(f=f.replace(e,"$1$2"));g=/^(.+?)eed$/;e=/^(.+?)(ed|ing)$/;g.test(f)?(e=g.exec(f),g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(e[1])&&(g=/.$/,f=f.replace(g,""))):e.test(f)&&(e=e.exec(f),d=e[1],e=/^([^aeiou][^aeiouy]*)?[aeiouy]/,e.test(d)&&(f=d,e=/(at|bl|iz)$/,h=/([^aeiouylsz])\1$/,d=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,e.test(f)?f+="e":h.test(f)?(g=/.$/,f=f.replace(g,"")):d.test(f)&&(f+="e")));g=/^(.+?)y$/;g.test(f)&&(e=g.exec(f),
d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy]/,g.test(d)&&(f=d+"i"));g=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;g.test(f)&&(e=g.exec(f),d=e[1],e=e[2],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d+b[e]));g=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;g.test(f)&&(e=g.exec(f),d=e[1],e=e[2],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d+c[e]));g=
/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;e=/^(.+?)(s|t)(ion)$/;g.test(f)?(e=g.exec(f),d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d)):e.test(f)&&(e=e.exec(f),d=e[1]+e[2],e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,e.test(d)&&(f=d));g=/^(.+?)e$/;g.test(f)&&(e=g.exec(f),d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,h=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,g.test(d)||e.test(d)&&!h.test(d))&&(f=d);g=/ll$/;e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;g.test(f)&&e.test(f)&&(g=/.$/,f=f.replace(g,""));"y"==a&&(f=a.toLowerCase()+f.substr(1));return f};function sg(a){this.b=a}
sg.prototype.a=function(a){a=a.toLowerCase();a=a.replace(/([^c])\1/g,"$1");a=function(a){return a.match(/^(kn|gn|pn|ae|wr)/)?a.substr(1,a.length-1):a}(a);a=a.replace(/mb$/,"m");a=a.replace(/ck/g,"k");a=function(a){a=a.replace(/([^s]|^)(c)(h)/g,"$1x$3").trim();a=a.replace(/cia/g,"xia");a=a.replace(/c(i|e|y)/g,"s$1");return a=a.replace(/c/g,"k")}(a);a=function(a){a=a.replace(/d(ge|gy|gi)/g,"j$1");return a=a.replace(/d/g,"t")}(a);a=function(a){a=a.replace(/gh(^$|[^aeiou])/g,"h$1");return a=a.replace(/g(n|ned)$/g,
"$1")}(a);a=function(a){a=a.replace(/([^g]|^)(g)(i|e|y)/g,"$1j$3");a=a.replace(/gg/g,"g");return a=a.replace(/g/g,"k")}(a);a=a.replace(/([aeiou])h([^aeiou])/g,"$1$2");a=a.replace(/ph/g,"f");a=a.replace(/q/g,"k");a=a.replace(/s(h|io|ia)/g,"x$1");a=function(a){a=a.replace(/^x/,"s");return a=a.replace(/x/g,"ks")}(a);a=function(a){a=a.replace(/t(ia|io)/g,"x$1");return a=a.replace(/th/,"0")}(a);a=a.replace(/tch/g,"ch");a=a.replace(/v/g,"f");a=a.replace(/^wh/,"w");a=a.replace(/w([^aeiou]|$)/g,"$1");a=a.replace(/y([^aeiou]|$)/g,
"$1");a=a.replace(/z/,"s");a=a.charAt(0)+a.substr(1,a.length).replace(/[aeiou]/g,"");a.length>=this.b&&(a=a.substring(0,this.b));return a=a.toUpperCase()};var tg=new sg(32),ug=new rg,vg=new qg("a a's able about above according accordingly across actually after afterwards again against ain't all allow allows almost alone along already also although always am among amongst an and another any anybody anyhow anyone anything anyway anyways anywhere apart appear appreciate appropriate are aren't around as aside ask asking associated at available away awfully b be became because become becomes becoming been before beforehand behind being believe below beside besides best better between beyond both brief but by c c'mon c's came can can't cannot cant cause causes certain certainly changes clearly co com come comes concerning consequently consider considering contain containing contains corresponding could couldn't course currently d definitely described despite did didn't different do does doesn't doing don't done down downwards during e each edu eg eight either else elsewhere enough entirely especially et etc even ever every everybody everyone everything everywhere ex exactly example except f far few fifth first five followed following follows for former formerly forth four from further furthermore g get gets getting given gives go goes going gone got gotten greetings h had hadn't happens hardly has hasn't have haven't having he he's hello help hence her here here's hereafter hereby herein hereupon hers herself hi him himself his hither hopefully how howbeit however i i'd i'll i'm i've ie if ignored immediate in inasmuch inc indeed indicate indicated indicates inner insofar instead into inward is isn't it it'd it'll it's its itself j just k keep keeps kept know knows known l last lately later latter latterly least less lest let let's like liked likely little look looking looks ltd m mainly many may maybe me mean meanwhile merely might more moreover most mostly much must my myself n name namely nd near nearly necessary need needs neither never nevertheless new next nine no nobody non none noone nor normally not nothing novel now nowhere o obviously of off often oh ok okay old on once one ones only onto or other others otherwise ought our ours ourselves out outside over overall own p particular particularly per perhaps placed please plus possible presumably probably provides q que quite qv r rather rd re really reasonably regarding regardless regards relatively respectively right s said same saw say saying says second secondly see seeing seem seemed seeming seems seen self selves sensible sent serious seriously seven several shall she should shouldn't since six so some somebody somehow someone something sometime sometimes somewhat somewhere soon sorry specified specify specifying still sub such sup sure t t's take taken tell tends th than thank thanks thanx that that's thats the their theirs them themselves then thence there there's thereafter thereby therefore therein theres thereupon these they they'd they'll they're they've think third this thorough thoroughly those though three through throughout thru thus to together too took toward towards tried tries truly try trying twice two u un under unfortunately unless unlikely until unto up upon us use used useful uses using usually uucp v value various very via viz vs w want wants was wasn't way we we'd we'll we're we've welcome well went were weren't what what's whatever when whence whenever where where's whereafter whereas whereby wherein whereupon wherever whether which while whither who who's whoever whole whom whose why will willing wish with within without won't wonder would wouldn't x y yes yet you you'd you'll you're you've your yours yourself yourselves z zero".split(" "));function wg(a){this.data=a;this.a=0}wg.prototype.next=function(a){for(var b=this.a,c=this.data[b],c=1,d=0;0<=b&&b<this.data.length;){c=this.data[b];if(c instanceof Array)if(a<c[0])c=-1;else if(a>c[1])c=1;else return this.a=b,!0;else{if(c==a)return this.a=b,!0;c=a<c?-1:1}if(0==d)d=c;else if(d!=c)break;b+=c;if(b>this.data.length||0>b)break}return!1};
function xg(a,b){for(var c=0,d=0,e=a.length,f=0;f<e;++f){a:{var d=a.charCodeAt(f),g=new wg(categ_letters_numbers_data);if(z(d))d=g.next(d);else{for(var h=0,k=d.length;h<k;++h)if(!1===g.next(d[h])){d=!1;break a}d=!0}}d||((d=f-c)&&b(c,d),c=f+1)}(d=e-c)&&b(c,d)};var yg,zg;zg=yg=!1;var Ag=Eb;Ag&&(-1!=Ag.indexOf("Firefox")?yg=!0:-1!=Ag.indexOf("Camino")||-1!=Ag.indexOf("iPhone")||-1!=Ag.indexOf("iPod")||-1!=Ag.indexOf("iPad")||-1!=Ag.indexOf("Chrome")&&(zg=!0));var Bg=yg,Cg=zg;function Dg(a,b){this.e=b;this.value=a}Dg.prototype.u=function(){return this.value};Dg.prototype.c=function(){return 1};var Eg=Cg||Bg;Dg.prototype.i=function(){return this.value};function Fg(a,b,c,d,e,f){Dg.call(this,d,e);this.b=a;this.d=b;this.f=c;this.Da=f||[]}C(Fg,Dg);Fg.prototype.ra=function(){return{k:this.e,v:this.value.toLowerCase(),id:this.i(),loc:this.Da}};Fg.prototype.i=function(){var a=[this.b,this.f,this.d,this.value];return Eg?a:hc(a)};Fg.prototype.h=function(){return this.b};Fg.prototype.p=function(){return this.f};function Gg(a,b,c,d,e){Dg.call(this,b,c);this.g=d;this.a=e;this.type=a;this.ob=1}C(Gg,Dg);Gg.prototype.c=function(){return this.a*this.type*this.ob};Gg.prototype.i=function(){return this.value+"|"+this.g};function Hg(a,b){Fg.call(this,b.h(),b.d,b.p(),b.u(),b.e,[]);this.j=a;this.a=[b]}C(Hg,Fg);Hg.prototype.count=function(){return this.a.length};function Ig(a,b){for(var c=b.a[0],d=0;d<a.a.length;d++)if(a.a[d].d==c.d&&a.a[d].value==c.value)return;a.a.push(c)}Hg.prototype.c=function(){for(var a=0,b=0;b<this.a.length;b++)var c=this.a[b],d=vd(this.j,c.h(),c.d),c=c.c(),a=a+c*d.c;return a};function gb(a,b){var c=a.c(),d=b.c();return c<=d?1:-1}
Hg.prototype.ra=function(){for(var a={value:this.value,primaryKey:this.f,storeName:this.b,score:this.c(),tokens:[]},b=0;b<this.a.length;b++)a.tokens[b]=this.a[b].ra();return a};function Jg(a){var b=[],c;a=a.split(/\s+/);for(var d=0;d<a.length;d++){c=a[d];for(var e=c.length-1,f=Array(e),g=0;g<e;g++)f[g]=c.substring(g,g+2);c=f;b.push.apply(b,c)}return b};function qe(a,b,c,d,e,f,g){Fg.call(this,b,c,d,e,f,g);this.a=a}C(qe,Fg);qe.prototype.c=function(){var a,b=this.value;a=Jg(this.a.value.toLowerCase().replace(/^\s+|\s+$/g,""));var b=Jg(b.toLowerCase().replace(/^\s+|\s+$/g,"")),c=0,d=a.length+b.length,e,f,g,h;for(e=0;e<a.length;e++)for(g=a[e],f=0;f<b.length;f++)if(h=b[f],g==h){c++;delete b[f];break}a=2*c/d;b=Math.log(this.Da.length+1);c=this.a.c();return b*a*c};qe.prototype.ra=function(){return{keyPath:this.d,value:this.value,loc:this.Da.slice()}};function Kg(a,b){this.a=a;this.b=b;this.d=[];this.c=0}function pe(a,b){for(var c,d,e=a.a.getName(),f=0;f<a.b.length;f++){var g=a.b[f],h=g.type;0.4==h||0.6==h?(d="v",c=g.u().toLowerCase(),c=Nc(c)):(d="v",c=g.u().toLowerCase(),c=Q.only(c));b(e,d,c,g);a.c++;0.6==h&&(d="k",c=g.e,c=Q.only(c),b(e,d,c,g),a.c++)}}function oe(a){for(var b=[a.a.getName()],c=0;c<a.a.count();c++){var d=a.a.index(c).h();-1==b.indexOf(d)&&b.push(d)}return b}
Kg.prototype.e=function(){for(var a=[],b=[],c=0;c<this.d.length;c++){var d=this.d[c];if(0==d.a.type)-1==Ya(b,function(a){return a.p()==d.p()&&a.h()==d.h()})&&b.push(d);else{var e=new Hg(this.a,d),f=Ya(a,function(a){return a.p()==e.p()&&a.h()==e.h()});if(0<=f){var g=a[f];Ra.splice.call(a,f,1);Ig(g,e);e=g}fb(a,e)}}for(f=0;f<b.length;f++)for(g=b[f],c=a.length-1;0<=c;--c){var h=a[c];if(g.p()==h.p()&&g.h()==h.h()){a.splice(f,1);break}}return a.map(function(a){return a.ra()})};function Lg(a){this.a=a;if("en"==a.c){a=a.d||["stop","stemmer","metaphone"];for(var b=[],c=0;c<a.length;c++)"metaphone"==a[c]?b.push(tg):"stemmer"==a[c]?b.push(ug):"stop"==a[c]&&b.push(vg);a=b}else a=[];this.b=a}function Mg(a,b){for(var c=0;c<a.b.length;c++){var d=a.b[c].a(b);if(d)b=d;else return null}return b}
function Ng(a,b){var c=[],d=[];xg(b,function(a,e){c.push(b.substr(a,e));d.push(a)});for(var e=[],f=0;f<c.length;f++)e[f]=Mg(a,c[f]);for(var g=[],h=0,f=0;f<c.length;f++){var k=c[f],m=e[f],p="*"==b.charAt(d[f]+k.length),n=p?d[f]+k.length+1:d[f]+k.length,n='"'==b.charAt(d[f]-1)&&'"'==b.charAt(n),s="-"==b.charAt(n?d[f]-2:d[f]-1),u=0.8;p?u=0.4:n?u=1:s?u=0:null!=m&&(u=0.6);k=new Gg(u,k,m,d[f],1/(f+2));g.push(k);h+=k.c()}for(f=0;f<g.length;++f)g[f].ob=1/h;return g}
function Og(a,b,c,d){var e=[],f=[];xg(b,function(a,c){e.push(b.substr(a,c));f.push(a)});for(var g=[],h=0;h<e.length;h++)g[h]=Mg(a,e[h]);a=c.h();c=c.a;for(var k=[],h=0;h<e.length;h++){var m=e[h],p=g[h];if(null!=p){var n=Xa(k,function(a){return a.u()==m});n||(n=new Fg(a,c,d,m,p),k.push(n));n.Da.push(f[h])}}return k}function Pg(a,b,c,d){for(var e=[],f=0;f<a.a.count();f++){var g=a.a.index(f);if(g.h()==b){var h=ec(d,g.a);w(h)&&(e=e.concat(Og(a,h,g,c)))}}return e};X.prototype.nb=function(a,b){var c=this;b.a=new Lg(b);pd(a,function(d,e){function f(e){var f=a.getName();Jc(e)&&tc(d,function(a,g,h){if(g)h(a,g);else{$b(d,a);var k=Lc(Q.bound([f,e],[f,e,"\uffff"])),y=b.getName();se(c.a,y,k).ga(function(){h(a,g)})}})}function g(b){var e=a.getName();tc(d,function(a,f,g){f?g(a,f):($b(d,a),b&&(b=Lc(Q.bound([e,b.lower],[e,b.upper,"\uffff"]))),se(c.a,e,b).ga(function(){g(a,f)}))})}function h(e,f){var g=a.getName();tc(d,function(a,h,k){$b(d,a);if(h)k(a,h);else{var y=b.getName();
t(a)||(a=[a]);for(var F=0;F<a.length;F++){var D=a[F];if(Jc(D)){if(f){var J=Lc(Q.bound([g,D],[g,D,"\uffff"]));se(c.a,y,J)}D=Pg(b.a,g,D,e[F]).map(function(a){return a.ra()});D=re(c.a,y,D);F==a.length-1&&D.ga(function(){k(a,h)})}}}})}var k=d.l;"j"==k?h([e[1]],!0):"k"==k?h(e[1],!0):"a"==k?h([e[1]],!1):"b"==k?h(e[1],!1):"n"==k||"c"==k?g(e[1]):"m"==k&&f(e[1])})};
X.prototype.A=function(a,b){var c=Bd(this.b,a);if(!c)throw new G('full text index catalog "'+a+'" not found.');var c=c.a,d=Ng(c,b),c=0==d.length?null:new Kg(c.a,d);return c?ne(this.a,c):(this.logger.a('query "'+b+'" contains only noise and search is ignored'),vc("qb",null))};X.prototype.search=X.prototype.A;Kg.prototype.collect=Kg.prototype.e;function Qg(a,b,c){this.db=a;this.b=b;this.type=c||0;this.c=null};function Rg(a,b,c,d){this.d=a;this.a=b||null;this.f=!!c;this.e=!!d;this.b=[];this.c=[]}function Sg(a,b){for(var c=b.length-1;0<=c;c--)if(b[c]==a.b[a.b.length-1])b=b.slice(0,c);else break;a.c=b;return null}function Tg(a,b){if((0!=a.b.length||0!=a.c.length)&&Ug(a)&&!Vg(a))throw new Rd('Require index "'+a.b.concat(a.c).join(", ")+'" not found in store "'+a.d.getName()+'"');var c=new Y(a.d.getName(),Wg(a),a.a,a.f,a.e,!!b);c.q=a.b.length;return c}l=Rg.prototype;l.h=function(){return this.d.getName()};
l.B=function(){var a=new Rg(this.d,this.a,this.f,this.e);a.c=this.c.slice();a.b=this.b.slice();return a};function Vg(a){var b=a.b.concat(a.c),c=gd(a.d,b);return c||b[b.length-1]==a.d.keyPath&&(c=gd(a.d,b.slice(0,b.length-1)))?c:null}function Wg(a){return(a=Vg(a))?a.getName():void 0}l.reverse=function(){var a=this.B();a.f=!this.f;return a};l.unique=function(a){var b=this.B();b.e=!!a;return b};function Ug(a){return 0<a.b.length?!0:1==a.c.length?a.c[0]!=a.d.keyPath:1<a.c.length?!0:!1}
l.n=function(a,b,c,d,e){c=Rc(b,c,d,e);if(0<this.b.length)if(this.a)if(null!=this.a.lower&&null!=this.a.upper&&0==N(this.a.lower,this.a.upper))a=t(this.a.lower)?this.a.lower.slice().push(b):[this.a.lower,b],d=null!=d?d:"\uffff",c=t(this.a.upper)?this.a.upper.slice().push(d):[this.a.upper,d],this.a=Rc(b,a,d,c);else if(1==this.b.length&&this.b[0]==a||t(a)&&cb(this.b,a))this.a=this.a.Z(c);else return"cannot use where clause with existing filter";else return"cannot use where clause with existing filter";
else this.b=t(a)?a:[a],this.a=this.a?this.a.Z(c):c;return null};function Xg(a,b,c,d){Qg.call(this,a,b,c);this.a=d}C(Xg,Qg);Xg.prototype.open=function(){var a={push:function(){}},a=Yg(this)?new pg(a):new og(a);return this.db.jb(a,Zg(this),I)};function Zg(a){for(var b=[],c=0;c<a.a.length;c++)b[c]=Tg(a.a[c]);return b}function Yg(a){for(var b=0;b<a.a.length;b++)if(0<a.a[b].b.length)return!0;return!1}Xg.prototype.Ua=function(){return this.a.slice()};Xg.prototype.select=function(){throw Error("not impl");};
Xg.prototype.reverse=function(){var a=this.a.map(function(a){return a.reverse()});return new Xg(this.db,this.b,this.type,a)};function $(a,b,c,d){Qg.call(this,a,b,c);this.a=d}C($,Qg);l=$.prototype;l.ac=function(){return new $(this.db,this.b,this.type,this.a.B())};l.reverse=function(){var a=this.a.reverse();return new $(this.db,this.b,this.type,a)};l.unique=function(a){if(!ba(a))throw new G("unique value must be a boolean, but "+typeof a+" found");a=this.a.unique(a);return new $(this.db,this.b,this.type,a)};l.K=function(a){var b=w(a)?[a]:a;a=this.a.B();if(b=Sg(a,b))throw Error(b);return new $(this.db,this.b,this.type,a)};
l.n=function(a,b,c,d,e){if(Wg(this.a)&&Wg(this.a)!=a){var f=Rc(b,c,d,e),f=new Rg(S(this.b,this.a.h()),f,this.a.f,this.a.e);return this.Z(new $(this.db,this.b,this.type,f))}if(!Wg(this.a)&&!hd(S(this.b,this.a.h()),a))throw new G('index "'+a+'" not exists in '+this.a.h());f=this.a.B();if(a=f.n(a,b,c,d,e))throw new G(a);return new $(this.db,this.b,this.type,f)};
l.select=function(a){var b=S(this.b,this.a.h()),c=w(a)?[a]:a,d=this.type;a=this.a.B();d=Wg(this.a);if(1==c.length)if(d=c[0],"_ROWID_"==d||d==b.keyPath)d=2;else if(d&&"*"!=d)if(hd(b,d)){if(b=Sg(a,c))throw new G(b);d=1}else throw new G('Invalid select "'+d+'", index not found in store "'+b.getName()+'"');else d=4;else if(2==c.length){if(!d)throw new G("Only primary key can be selected for this query.");for(var e=0;2>e;e++){var f;if(f="_ROWID_"!=c[e]){f=b;var g=c[e];f=!(r(f.keyPath)&&(1==f.f.length?
f.keyPath===g:v(g)&&cb(f.f,g)))}if(f&&c[e]!=d)throw new G('select field name must be "'+d+'", but "'+c[e]+'" found.');}d=3}else throw new G("Selecting more than 2 field names is not supported, but "+c.length+" fields selected.");return new $(this.db,this.b,d,a)};l.bc=function(a){a=a||100;var b=4,c=$g(this);this.c&&this.c[0]&&(c=c.Hb(this.c[0],this.c[1]));if(2==this.type||3==this.type||1==this.type)b=this.type;a=Te(this.db,b,c,a);a.G(function(){"rest"==c.d&&(this.c=[c.g,c.p()])},this);return a};
l.Ua=function(){return[this.a.B()]};function $g(a){return Tg(a.a,!(2==a.type||3==a.type||1==a.type))}l.Sb=function(a,b){var c=$g(this);c.a&&(c=new Y(c.e,c.c,c.b,c.X(),c.la(),!1,c.f));var d=this.db.open(function(c){var f=c.u();if(w(a))fc(f,a,b);else if(t(a))for(var g=0;g<a.length;g++)fc(f,a[g],b[g]);else if(B(a))for(g in a)a.hasOwnProperty(g)&&(f[g]=a[g]);c=c.update(f);d.G(ga(c.Fa,c))},c,I,this);return d};l.open=function(a,b){return this.db.open(a,$g(this),I,b)};
l.count=function(){return Ug(this.a)?this.a.e?this.db.count(Tg(this.a)):this.db.count(this.a.h(),Wg(this.a),this.a.a):this.db.count(this.a.h(),this.a.a)};l.clear=function(){return Ug(this.a)?this.db.clear(this.a.h(),Wg(this.a),this.a.a):this.db.clear(this.a.h(),this.a.a)};l.Z=function(a){a=a.Ua().concat(this.Ua());return new Xg(this.db,this.b,this.type,a)};
Ue.prototype.J=function(a,b,c,d,e){if(!zd(this.b,a))throw new G('Store "'+a+'" not found.');var f=null;if(r(b)){if(!r(c))throw new G("boundary value must be defined.");f=Rc(b,c,d,e)}else if(r(d))throw new G("second boundary must not be defined.");a=new Rg(S(this.b,a),f);return new $(this.a,this.b,null,a)};
Z.prototype.J=function(a,b,c,d,e){if(!zd(this.b,a))throw new G('Store "'+a+'" not found.');var f=null;if(r(b)){if(!r(c))throw new G("boundary value must be defined.");f=Rc(b,c,d,e)}else if(r(d))throw new G("second boundary must not be defined.");a=new Rg(S(this.b,a),f);return new $(this,this.b,null,a)};$.prototype.copy=$.prototype.ac;$.prototype.count=$.prototype.count;$.prototype.list=$.prototype.bc;$.prototype.order=$.prototype.K;$.prototype.patch=$.prototype.Sb;$.prototype.reverse=$.prototype.reverse;$.prototype.unique=$.prototype.unique;$.prototype.where=$.prototype.n;Ue.prototype.from=Ue.prototype.J;Z.prototype.from=Z.prototype.J; 
var categ_letters_numbers_data=[[48,57],[65,90],[97,122],170,[178,179],181,[185,186],[188,190],[192,214],[216,246],[248,705],[710,721],[736,740],748
	,750,[880,884],[886,887],[890,893],902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1319],[1329,1366],1369
	,[1377,1415],[1488,1514],[1520,1522],[1568,1610],[1632,1641],[1646,1647],[1649,1747],1749,[1765,1766],[1774,1788],1791
	,1808,[1810,1839],[1869,1957],1969,[1984,2026],[2036,2037],2042,[2048,2069],2074,2084,2088,[2112,2136],2208,[2210,2220]
	,[2308,2361],2365,2384,[2392,2401],[2406,2415],[2417,2423],[2425,2431],[2437,2444],[2447,2448],[2451,2472],[2474,2480]
	,2482,[2486,2489],2493,2510,[2524,2525],[2527,2529],[2534,2545],[2548,2553],[2565,2570],[2575,2576],[2579,2600]
	,[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],2654,[2662,2671],[2674,2676],[2693,2701],[2703,2705]
	,[2707,2728],[2730,2736],[2738,2739],[2741,2745],2749,2768,[2784,2785],[2790,2799],[2821,2828],[2831,2832],[2835,2856]
	,[2858,2864],[2866,2867],[2869,2873],2877,[2908,2909],[2911,2913],[2918,2927],[2929,2935],2947,[2949,2954],[2958,2960]
	,[2962,2965],[2969,2970],2972,[2974,2975],[2979,2980],[2984,2986],[2990,3001],3024,[3046,3058],[3077,3084],[3086,3088]
	,[3090,3112],[3114,3123],[3125,3129],3133,[3160,3161],[3168,3169],[3174,3183],[3192,3198],[3205,3212],[3214,3216]
	,[3218,3240],[3242,3251],[3253,3257],3261,3294,[3296,3297],[3302,3311],[3313,3314],[3333,3340],[3342,3344],[3346,3386]
	,3389,3406,[3424,3425],[3430,3445],[3450,3455],[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],[3585,3632]
	,[3634,3635],[3648,3654],[3664,3673],[3713,3714],3716,[3719,3720],3722,3725,[3732,3735],[3737,3743],[3745,3747],3749
	,3751,[3754,3755],[3757,3760],[3762,3763],3773,[3776,3780],3782,[3792,3801],[3804,3807],3840,[3872,3891],[3904,3911]
	,[3913,3948],[3976,3980],[4096,4138],[4159,4169],[4176,4181],[4186,4189],4193,[4197,4198],[4206,4208],[4213,4225],4238
	,[4240,4249],[4256,4293],4295,4301,[4304,4346],[4348,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744]
	,[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954]
	,[4969,4988],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5870,5872],[5888,5900]
	,[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6000],[6016,6067],6103,6108,[6112,6121],[6128,6137],[6160,6169]
	,[6176,6263],[6272,6312],6314,[6320,6389],[6400,6428],[6470,6509],[6512,6516],[6528,6571],[6593,6599],[6608,6618]
	,[6656,6678],[6688,6740],[6784,6793],[6800,6809],6823,[6917,6963],[6981,6987],[6992,7001],[7043,7072],[7086,7141]
	,[7168,7203],[7232,7241],[7245,7293],[7401,7404],[7406,7409],[7413,7414],[7424,7615],[7680,7957],[7960,7965]
	,[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140]
	,[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],[8304,8305],[8308,8313],[8319,8329],[8336,8348],8450,8455
	,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,[8528,8585]
	,[9312,9371],[9450,9471],[10102,10131],[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11506,11507],11517
	,[11520,11557],11559,11565,[11568,11623],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710]
	,[11712,11718],[11720,11726],[11728,11734],[11736,11742],11823,[12293,12295],[12321,12329],[12337,12341],[12344,12348]
	,[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12690,12693],[12704,12730]
	,[12784,12799],[12832,12841],[12872,12879],[12881,12895],[12928,12937],[12977,12991],13312,19893,19968,40908
	,[40960,42124],[42192,42237],[42240,42508],[42512,42539],[42560,42606],[42623,42647],[42656,42735],[42775,42783]
	,[42786,42888],[42891,42894],[42896,42899],[42912,42922],[43000,43009],[43011,43013],[43015,43018],[43020,43042]
	,[43056,43061],[43072,43123],[43138,43187],[43216,43225],[43250,43255],43259,[43264,43301],[43312,43334],[43360,43388]
	,[43396,43442],[43471,43481],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43616,43638],43642,[43648,43695]
	,43697,[43701,43702],[43705,43709],43712,43714,[43739,43741],[43744,43754],[43762,43764],[43777,43782],[43785,43790]
	,[43793,43798],[43808,43814],[43816,43822],[43968,44002],[44016,44025],44032,55203,[55216,55238],[55243,55291]
	,[63744,64109],[64112,64217],[64256,64262],[64275,64279],64285,[64287,64296],[64298,64310],[64312,64316],64318
	,[64320,64321],[64323,64324],[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140]
	,[65142,65276],[65296,65305],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495]
	,[65498,65500],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786]
	,[65799,65843],[65856,65912],65930,[66176,66204],[66208,66256],[66304,66334],[66336,66339],[66352,66378],[66432,66461]
	,[66464,66499],[66504,66511],[66513,66517],[66560,66717],[66720,66729],[67584,67589],67592,[67594,67637],[67639,67640]
	,67644,[67647,67669],[67672,67679],[67840,67867],[67872,67897],[67968,68023],[68030,68031],68096,[68112,68115]
	,[68117,68119],[68121,68147],[68160,68167],[68192,68222],[68352,68405],[68416,68437],[68440,68466],[68472,68479]
	,[68608,68680],[69216,69246],[69635,69687],[69714,69743],[69763,69807],[69840,69864],[69872,69881],[69891,69926]
	,[69942,69951],[70019,70066],[70081,70084],[70096,70105],[71296,71338],[71360,71369],[73728,74606],[74752,74850]
	,[77824,78894],[92160,92728],[93952,94020],94032,[94099,94111],[110592,110593],[119648,119665],[119808,119892]
	,[119894,119964],[119966,119967],119970,[119973,119974],[119977,119980],[119982,119993],119995,[119997,120003]
	,[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],120134
	,[120138,120144],[120146,120485],[120488,120512],[120514,120538],[120540,120570],[120572,120596],[120598,120628]
	,[120630,120654],[120656,120686],[120688,120712],[120714,120744],[120746,120770],[120772,120779],[120782,120831]
	,[126464,126467],[126469,126495],[126497,126498],126500,126503,[126505,126514],[126516,126519],126521,126523,126530
	,126535,126537,126539,[126541,126543],[126545,126546],126548,126551,126553,126555,126557,126559,[126561,126562],126564
	,[126567,126570],[126572,126578],[126580,126583],[126585,126588],126590,[126592,126601],[126603,126619],[126625,126627]
	,[126629,126633],[126635,126651],[127232,127242],131072,173782,173824,177972,177984,178205,[194560,195101]];
;

//# sourceMappingURL=ydn.db-is-sql-e-cur-qry-text.js.map
return ydn;}, (this || {}));
            